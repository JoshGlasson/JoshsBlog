import{_ as e,a as t,b as s,c as a,i as r,s as n,d as l,S as o,f as i,e as c,t as f,j as d,k as h,g as u,h as p,l as v,m as g,n as m,o as y,r as E,u as b,q as x,v as P,w as T,p as k,x as B,y as L,z as A}from"./client.35e72bbd.js";function I(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=t(e);if(a){var l=t(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return s(this,r)}}var F=A.document;function C(e,t,s){var a=e.slice();return a[7]=t[s],a}function D(e){var t,s,a,r,n,l,o,b,x,P,T,k,B,L,A,I,F=e[7].title+"",C=e[7].headline+"";return{c:function(){t=i("div"),s=i("div"),a=i("a"),r=i("img"),o=c(),b=i("div"),x=i("a"),P=i("h1"),T=f(F),B=c(),L=i("h2"),A=f(C),I=c(),this.h()},l:function(e){t=d(e,"DIV",{class:!0});var n=h(t);s=d(n,"DIV",{id:!0,class:!0});var l=h(s);a=d(l,"A",{href:!0});var i=h(a);r=d(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(u),l.forEach(u),o=p(n),b=d(n,"DIV",{id:!0,class:!0});var c=h(b);x=d(c,"A",{rel:!0,href:!0});var f=h(x);P=d(f,"H1",{class:!0});var g=h(P);T=v(g,F),g.forEach(u),f.forEach(u),B=p(c),L=d(c,"H2",{class:!0});var m=h(L);A=v(m,C),m.forEach(u),c.forEach(u),I=p(n),n.forEach(u),this.h()},h:function(){r.src!==(n=e[7].image)&&g(r,"src",n),g(r,"alt","Thumbnail"),g(r,"class","svelte-1p8dp4o"),g(a,"href",l="blog/"+e[7].slug),g(s,"id","thumb"),g(s,"class","svelte-1p8dp4o"),g(P,"class","svelte-1p8dp4o"),g(x,"rel","prefetch"),g(x,"href",k="blog/"+e[7].slug),g(L,"class","svelte-1p8dp4o"),g(b,"id","text"),g(b,"class","svelte-1p8dp4o"),g(t,"class","svelte-1p8dp4o")},m:function(e,n){m(e,t,n),y(t,s),y(s,a),y(a,r),y(t,o),y(t,b),y(b,x),y(x,P),y(P,T),y(b,B),y(b,L),y(L,A),y(t,I)},p:function(e,t){1&t&&r.src!==(n=e[7].image)&&g(r,"src",n),1&t&&l!==(l="blog/"+e[7].slug)&&g(a,"href",l),1&t&&F!==(F=e[7].title+"")&&E(T,F),1&t&&k!==(k="blog/"+e[7].slug)&&g(x,"href",k),1&t&&C!==(C=e[7].headline+"")&&E(A,C)},d:function(e){e&&u(t)}}}function _(e){for(var t,s,a,r,n,l,o,L,A,I,_,w,N,R,H,V,O,U,j,S,M,q,z,G,$,J,K,Q,W,X,Y=e[1]?"Any":"All",Z=e[0],ee=[],te=0;te<Z.length;te+=1)ee[te]=D(C(e,Z,te));return{c:function(){t=c(),s=i("div"),a=i("h1"),r=f("Recent posts"),n=c(),l=i("form"),o=i("input"),L=c(),A=i("input"),I=c(),_=i("label"),w=f("advanced search"),N=c(),R=i("button"),H=f("View Posts by Tags"),V=c(),O=i("div"),U=i("label"),j=i("input"),S=c(),M=i("span"),q=c(),z=i("p"),G=f("Find Posts with "),$=f(Y),J=f(" Tags"),K=c(),Q=i("form"),W=c();for(var e=0;e<ee.length;e+=1)ee[e].c();X=b(),this.h()},l:function(e){x('[data-svelte="svelte-hfp9t8"]',F.head).forEach(u),t=p(e),s=d(e,"DIV",{class:!0});var i=h(s);a=d(i,"H1",{id:!0});var c=h(a);r=v(c,"Recent posts"),c.forEach(u),n=p(i),l=d(i,"FORM",{id:!0});var f=h(l);o=d(f,"INPUT",{type:!0,placeholder:!0}),L=p(f),A=d(f,"INPUT",{type:!0,name:!0,id:!0,value:!0}),I=p(f),_=d(f,"LABEL",{for:!0});var g=h(_);w=v(g,"advanced search"),g.forEach(u),f.forEach(u),N=p(i),R=d(i,"BUTTON",{class:!0});var m=h(R);H=v(m,"View Posts by Tags"),m.forEach(u),V=p(i),O=d(i,"DIV",{class:!0,id:!0});var y=h(O);U=d(y,"LABEL",{class:!0,for:!0});var E=h(U);j=d(E,"INPUT",{type:!0,id:!0,class:!0}),S=p(E),M=d(E,"SPAN",{class:!0}),h(M).forEach(u),E.forEach(u),q=p(y),z=d(y,"P",{style:!0});var P=h(z);G=v(P,"Find Posts with "),$=v(P,Y),J=v(P," Tags"),P.forEach(u),K=p(y),Q=d(y,"FORM",{id:!0}),h(Q).forEach(u),y.forEach(u),i.forEach(u),W=p(e);for(var T=0;T<ee.length;T+=1)ee[T].l(e);X=b(),this.h()},h:function(){F.title="Blog",g(a,"id","pageTitle"),g(o,"type","text"),g(o,"placeholder","Search Posts"),g(A,"type","checkbox"),g(A,"name","checkbox"),g(A,"id","checkbox_id"),A.value="value",g(_,"for","checkbox_id"),g(l,"id","search"),g(R,"class","collapsible svelte-1p8dp4o"),g(j,"type","checkbox"),g(j,"id","any_all_slider"),g(j,"class","svelte-1p8dp4o"),g(M,"class","slider round svelte-1p8dp4o"),g(U,"class","switch svelte-1p8dp4o"),g(U,"for","any_all_slider"),P(z,"display","inline-block"),g(Q,"id","filter-form"),g(O,"class","filters svelte-1p8dp4o"),g(O,"id","filter-form-div"),g(s,"class","top svelte-1p8dp4o")},m:function(e,i){m(e,t,i),m(e,s,i),y(s,a),y(a,r),y(s,n),y(s,l),y(l,o),y(l,L),y(l,A),y(l,I),y(l,_),y(_,w),y(s,N),y(s,R),y(R,H),y(s,V),y(s,O),y(O,U),y(U,j),y(U,S),y(U,M),y(O,q),y(O,z),y(z,G),y(z,$),y(z,J),y(O,K),y(O,Q),m(e,W,i);for(var c=0;c<ee.length;c+=1)ee[c].m(e,i);m(e,X,i)},p:function(e,t){var s=T(t,1)[0];if(2&s&&Y!==(Y=e[1]?"Any":"All")&&E($,Y),1&s){var a;for(Z=e[0],a=0;a<Z.length;a+=1){var r=C(e,Z,a);ee[a]?ee[a].p(r,s):(ee[a]=D(r),ee[a].c(),ee[a].m(X.parentNode,X))}for(;a<ee.length;a+=1)ee[a].d(1);ee.length=Z.length}},i:k,o:k,d:function(e){e&&u(t),e&&u(s),e&&u(W),B(ee,e),e&&u(X)}}}function w(e){e.params,e.query;return this.fetch("blog.json").then((function(e){return e.json()})).then((function(e){return e.sort((function(e,t){return Date.parse(e.sortdate)>Date.parse(t.sortdate)?1:Date.parse(t.sortdate)>Date.parse(e.sortdate)?-1:0})).reverse(),{posts:e}}))}function N(e,t,s){var a=t.posts,r=t.filteredPosts,n=void 0===r?a:r,l=t.tagFilteredPosts,o=t.tags,i=void 0===o?[]:o,c=t.tagsToFilter,f=void 0===c?[]:c,d=t.filterByAnyTags,h=void 0===d||d;return L((function(){var e=document.getElementById("search");function t(){if(s(2,l=a),f.length>0){s(2,l=[]);for(var t=0;t<a.length;t++){var r=a[t],o=r.tags.filter((function(e){return-1!=f.indexOf(e)}));h?o.length>0&&l.push(r):o.length==f.length&&l.push(r)}}s(0,n=l),function(){if(""!==e[0].value){s(0,n=[]);for(var t=0;t<l.length;t++){var a=l[t],r=e[0].value.toLowerCase();e[1].checked?(a.title.toLowerCase().includes(r)||a.headline.toLowerCase().includes(r))&&n.push(a):a.title.toLowerCase().includes(r)&&n.push(a)}}}()}e[0].value="",e[1].checked=!1,e.addEventListener("input",(function(e){t()})),e.onkeypress=function(e){13==(e.charCode||e.keyCode||0)&&e.preventDefault()};var r=document.getElementById("filter-form");!function(){!function(){for(var e=0;e<a.length;e++)s(3,i=i.concat(a[e].tags.filter((function(e){return i.indexOf(e)<0}))));s(3,i=i.sort())}();for(var e=0;e<i.length;e++){var n=document.createElement("INPUT"),l=document.createElement("LABEL"),o=i[e];n.type="checkbox",n.name=o,n.id=o+"_id",n.value="value",n.className="filter-input",l.htmlFor=o+"_id",l.textContent=o,console.log(l),r.appendChild(n),r.appendChild(l),r.appendChild(document.createElement("br"))}!function(){for(var e=document.getElementsByClassName("filter-input"),s=0;s<e.length;s++){e[s].addEventListener("change",(function(e){if(this.checked)f.push(e.target.name),t();else{var s=f.indexOf(e.target.name);s>-1&&f.splice(s,1),t()}}))}}()}();for(var o=document.getElementsByClassName("collapsible"),c=0;c<o.length;c++)o[c].addEventListener("click",(function(){this.classList.toggle("active");var e=document.getElementById("filter-form-div");e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}));var d=document.getElementById("any_all_slider");d.checked=!1,d.addEventListener("change",(function(e){this.checked?(s(1,h=!1),t()):(s(1,h=!0),t())}))})),e.$set=function(e){"posts"in e&&s(4,a=e.posts),"filteredPosts"in e&&s(0,n=e.filteredPosts),"tagFilteredPosts"in e&&s(2,l=e.tagFilteredPosts),"tags"in e&&s(3,i=e.tags),"tagsToFilter"in e&&s(5,f=e.tagsToFilter),"filterByAnyTags"in e&&s(1,h=e.filterByAnyTags)},[n,h,l,i,a,f]}var R=function(t){e(i,o);var s=I(i);function i(e){var t;return a(this,i),t=s.call(this),r(l(t),e,N,_,n,{posts:4,filteredPosts:0,tagFilteredPosts:2,tags:3,tagsToFilter:5,filterByAnyTags:1}),t}return i}();export default R;export{w as preload};
