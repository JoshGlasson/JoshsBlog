import{_ as t,a as e,b as a,c as s,i as r,s as n,d as i,S as l,f as o,e as c,t as f,j as h,k as u,g as d,h as v,l as g,m as p,n as m,o as b,r as E,u as x,q as y,v as P,p as w,w as F,x as L,y as I}from"./client.8babede6.js";function T(t){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=e(t);if(s){var i=e(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}var k=I.document;function C(t,e,a){var s=t.slice();return s[6]=e[a],s}function R(t){var e,a,s,r,n,i,l,x,y,P,w,F,L,I,T,k,C=t[6].title+"",R=t[6].headline+"";return{c:function(){e=o("div"),a=o("div"),s=o("a"),r=o("img"),l=c(),x=o("div"),y=o("a"),P=o("h1"),w=f(C),L=c(),I=o("h2"),T=f(R),k=c(),this.h()},l:function(t){e=h(t,"DIV",{class:!0});var n=u(e);a=h(n,"DIV",{id:!0,class:!0});var i=u(a);s=h(i,"A",{href:!0});var o=u(s);r=h(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(d),i.forEach(d),l=v(n),x=h(n,"DIV",{id:!0,class:!0});var c=u(x);y=h(c,"A",{rel:!0,href:!0});var f=u(y);P=h(f,"H1",{class:!0});var p=u(P);w=g(p,C),p.forEach(d),f.forEach(d),L=v(c),I=h(c,"H2",{class:!0});var m=u(I);T=g(m,R),m.forEach(d),c.forEach(d),k=v(n),n.forEach(d),this.h()},h:function(){r.src!==(n=t[6].image)&&p(r,"src",n),p(r,"alt","Thumbnail"),p(r,"class","svelte-abilw9"),p(s,"href",i="blog/"+t[6].slug),p(a,"id","thumb"),p(a,"class","svelte-abilw9"),p(P,"class","svelte-abilw9"),p(y,"rel","prefetch"),p(y,"href",F="blog/"+t[6].slug),p(I,"class","svelte-abilw9"),p(x,"id","text"),p(x,"class","svelte-abilw9"),p(e,"class","svelte-abilw9")},m:function(t,n){m(t,e,n),b(e,a),b(a,s),b(s,r),b(e,l),b(e,x),b(x,y),b(y,P),b(P,w),b(x,L),b(x,I),b(I,T),b(e,k)},p:function(t,e){1&e&&r.src!==(n=t[6].image)&&p(r,"src",n),1&e&&i!==(i="blog/"+t[6].slug)&&p(s,"href",i),1&e&&C!==(C=t[6].title+"")&&E(w,C),1&e&&F!==(F="blog/"+t[6].slug)&&p(y,"href",F),1&e&&R!==(R=t[6].headline+"")&&E(T,R)},d:function(t){t&&d(e)}}}function B(t){for(var e,a,s,r,n,i,l,E,L,I,T,B,N,D,H,O,U,V,j,A,S=t[0],M=[],_=0;_<S.length;_+=1)M[_]=R(C(t,S,_));return{c:function(){e=c(),a=o("div"),s=o("h1"),r=f("Recent posts"),n=c(),i=o("form"),l=o("input"),E=c(),L=o("input"),I=c(),T=o("label"),B=f("advanced search"),N=c(),D=o("button"),H=f("Filter Posts"),O=c(),U=o("div"),V=o("form"),j=c();for(var t=0;t<M.length;t+=1)M[t].c();A=x(),this.h()},l:function(t){y('[data-svelte="svelte-hfp9t8"]',k.head).forEach(d),e=v(t),a=h(t,"DIV",{class:!0});var o=u(a);s=h(o,"H1",{id:!0});var c=u(s);r=g(c,"Recent posts"),c.forEach(d),n=v(o),i=h(o,"FORM",{id:!0});var f=u(i);l=h(f,"INPUT",{type:!0,placeholder:!0}),E=v(f),L=h(f,"INPUT",{type:!0,name:!0,id:!0,value:!0}),I=v(f),T=h(f,"LABEL",{for:!0});var p=u(T);B=g(p,"advanced search"),p.forEach(d),f.forEach(d),N=v(o),D=h(o,"BUTTON",{class:!0});var m=u(D);H=g(m,"Filter Posts"),m.forEach(d),O=v(o),U=h(o,"DIV",{class:!0});var b=u(U);V=h(b,"FORM",{id:!0}),u(V).forEach(d),b.forEach(d),o.forEach(d),j=v(t);for(var P=0;P<M.length;P+=1)M[P].l(t);A=x(),this.h()},h:function(){k.title="Blog",p(s,"id","pageTitle"),p(l,"type","text"),p(l,"placeholder","Search Posts"),p(L,"type","checkbox"),p(L,"name","checkbox"),p(L,"id","checkbox_id"),L.value="value",p(T,"for","checkbox_id"),p(i,"id","search"),p(D,"class","collapsible svelte-abilw9"),p(V,"id","filter-form"),p(U,"class","filters svelte-abilw9"),p(a,"class","top svelte-abilw9")},m:function(t,o){m(t,e,o),m(t,a,o),b(a,s),b(s,r),b(a,n),b(a,i),b(i,l),b(i,E),b(i,L),b(i,I),b(i,T),b(T,B),b(a,N),b(a,D),b(D,H),b(a,O),b(a,U),b(U,V),m(t,j,o);for(var c=0;c<M.length;c+=1)M[c].m(t,o);m(t,A,o)},p:function(t,e){var a=P(e,1)[0];if(1&a){var s;for(S=t[0],s=0;s<S.length;s+=1){var r=C(t,S,s);M[s]?M[s].p(r,a):(M[s]=R(r),M[s].c(),M[s].m(A.parentNode,A))}for(;s<M.length;s+=1)M[s].d(1);M.length=S.length}},i:w,o:w,d:function(t){t&&d(e),t&&d(a),t&&d(j),F(M,t),t&&d(A)}}}function N(t){t.params,t.query;return this.fetch("blog.json").then((function(t){return t.json()})).then((function(t){return t.sort().reverse(),{posts:t}}))}function D(t,e,a){var s=e.posts,r=e.filteredPosts,n=void 0===r?s:r,i=e.tagFilteredPosts,l=e.tags,o=void 0===l?[]:l,c=e.tagsToFilter,f=void 0===c?[]:c;return L((function(){var t=document.getElementById("search");function e(){if(a(1,i=s),f.length>0){a(1,i=[]);for(var e=0;e<s.length;e++){var r=s[e];r.tags.filter((function(t){return-1!=f.indexOf(t)})).length>0&&i.push(r)}}a(0,n=i),function(){if(""!==t[0].value){a(0,n=[]);for(var e=0;e<i.length;e++){var s=i[e],r=t[0].value.toLowerCase();t[1].checked?(s.title.toLowerCase().includes(r)||s.headline.toLowerCase().includes(r))&&n.push(s):s.title.toLowerCase().includes(r)&&n.push(s)}}}()}t[0].value="",t[1].checked=!1,t.addEventListener("input",(function(t){e()}));var r=document.getElementById("filter-form");!function(){!function(){for(var t=0;t<s.length;t++)a(2,o=o.concat(s[t].tags.filter((function(t){return o.indexOf(t)<0}))));a(2,o=o.sort())}();for(var t=0;t<o.length;t++){var n=document.createElement("INPUT"),i=document.createElement("LABEL"),l=o[t],c=l[0].toUpperCase()+l.slice(1);n.type="checkbox",n.id=l,n.className="filter-input",i.for=l,i.textContent=c,r.appendChild(n),r.appendChild(i)}!function(){for(var t=document.getElementsByClassName("filter-input"),a=0;a<t.length;a++){t[a].addEventListener("change",(function(t){if(this.checked)f.push(t.target.id),e();else{var a=f.indexOf(t.target.id);a>-1&&f.splice(a,1),e()}}))}}()}();for(var l=document.getElementsByClassName("collapsible"),c=0;c<l.length;c++)l[c].addEventListener("click",(function(){this.classList.toggle("active");var t=this.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}))})),t.$set=function(t){"posts"in t&&a(3,s=t.posts),"filteredPosts"in t&&a(0,n=t.filteredPosts),"tagFilteredPosts"in t&&a(1,i=t.tagFilteredPosts),"tags"in t&&a(2,o=t.tags),"tagsToFilter"in t&&a(4,f=t.tagsToFilter)},[n,i,o,s,f]}var H=function(e){t(o,l);var a=T(o);function o(t){var e;return s(this,o),e=a.call(this),r(i(e),t,D,B,n,{posts:3,filteredPosts:0,tagFilteredPosts:1,tags:2,tagsToFilter:4}),e}return o}();export default H;export{N as preload};
