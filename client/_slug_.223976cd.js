import{S as t,i as e,s as a,e as s,a as n,c as r,b as l,d as o,f as c,j as i,m as d,n as h,p,t as m,g as u,k as f,l as g,v,h as w,w as E,x as _,o as b,y,z as x,A as T,q as D}from"./client.0a7ae948.js";function I(t){let e,a,p;return{c(){e=s("div"),a=n(),p=s("div"),this.h()},l(t){e=r(t,"DIV",{id:!0}),l(e).forEach(o),a=c(t),p=r(t,"DIV",{id:!0}),l(p).forEach(o),this.h()},h(){i(e,"id","recentPosts"),i(p,"id","relatedPosts")},m(t,s){d(t,e,s),d(t,a,s),d(t,p,s)},p:h,i:h,o:h,d(t){t&&o(e),t&&o(a),t&&o(p)}}}function C(t,e,a){let{posts:s}=e,{currentPost:n}=e,r=Object.values(s)[0].slice();return p(async()=>{let t=[],e=[],a=[];for(var s=0;s<r.length;s++)r[s].title==n.title&&r.splice(s,1);t=r.slice().splice(0,2);for(s=0;s<r.length;s++){var l=r[s];n.tags.indexOf(l.tags[0])>-1&&a.push(l)}await async function(){await async function(t,s){if(a.length>1){let n=Math.floor(Math.random()*(s-t+1))+t,r=Math.floor(Math.random()*(s-t+1))+t;for(;n===r;)r=Math.floor(Math.random()*(s-t+1))+t;e.push(a[n]),e.push(a[r])}else e=a.slice()}(0,a.length-1);var t=document.getElementById("relatedPosts");if(e.length>0){var s=document.createElement("h1");s.innerText="Related Posts",s.style.borderBottom="1px solid lightgray",t.insertBefore(s,t.firstChild)}for(var n=0;n<e.length;n++){var r=e[n],l=document.createElement("div"),o=document.createElement("a"),c=document.createElement("img"),i=document.createElement("a"),d=document.createElement("h2"),h=document.createElement("h3");h.innerText=r.headline,h.style.verticalAlign="middle",d.innerText=r.title,i.href="blog/"+r.slug,i.rel="external",c.src=r.image,c.alt="Post Thumbnail",c.className="Thumbnail",c.style.display="block",c.style.float="left",c.style.maxWidth="100px",c.style.maxHeight="100px",c.style.margin="0 1em 0 0",o.href="blog/"+r.slug,o.rel="external",o.appendChild(c),i.appendChild(d),l.appendChild(o),l.appendChild(i),l.appendChild(h),l.style.margin="0 0 1em 0",l.style.width="100%",l.style.overflowX="auto",t.appendChild(l)}}(),await async function(){var e=document.getElementById("recentPosts");if(t.length>0){var a=document.createElement("h1");a.innerText="Recent Posts",a.style.borderBottom="1px solid lightgray",e.insertBefore(a,e.firstChild)}for(var s=0;s<t.length;s++){var n=t[s],r=document.createElement("div"),l=document.createElement("a"),o=document.createElement("img"),c=document.createElement("a"),i=document.createElement("h2"),d=document.createElement("h3");d.innerText=n.headline,d.style.verticalAlign="middle",i.innerText=n.title,c.href="blog/"+n.slug,c.rel="external",o.src=n.image,o.alt="Post Thumbnail",o.className="Thumbnail",o.style.display="block",o.style.float="left",o.style.maxWidth="100px",o.style.maxHeight="100px",o.style.margin="0 1em 0 0",l.href="blog/"+n.slug,l.rel="external",l.appendChild(o),c.appendChild(i),r.appendChild(l),r.appendChild(c),r.appendChild(d),r.style.margin="0 0 1em 0",r.style.width="100%",r.style.overflowX="auto",e.appendChild(r)}}()}),t.$$set=t=>{"posts"in t&&a(0,s=t.posts),"currentPost"in t&&a(1,n=t.currentPost)},[s,n]}class V extends t{constructor(t){super(),e(this,t,C,I,a,{posts:0,currentPost:1})}}function P(t){let e,a,p,v,w,E,_,b,y,x,T,D,I,C;return{c(){e=s("div"),a=s("a"),p=s("img"),w=n(),E=s("h3"),_=m("Post by"),b=n(),y=s("a"),x=s("h1"),T=m("Josh Glasson"),D=n(),I=s("h3"),C=m("Software Developer. Creator and owner of this blog."),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=l(e);a=r(s,"A",{href:!0});var n=l(a);p=r(n,"IMG",{src:!0,alt:!0,class:!0}),n.forEach(o),w=c(s),E=r(s,"H3",{class:!0});var i=l(E);_=u(i,"Post by"),i.forEach(o),b=c(s),y=r(s,"A",{href:!0});var d=l(y);x=r(d,"H1",{class:!0});var h=l(x);T=u(h,"Josh Glasson"),h.forEach(o),d.forEach(o),D=c(s),I=r(s,"H3",{class:!0});var m=l(I);C=u(m,"Software Developer. Creator and owner of this blog."),m.forEach(o),s.forEach(o),this.h()},h(){f(p.src,v="./images/about/Small Profile Pic.jpg")||i(p,"src","./images/about/Small Profile Pic.jpg"),i(p,"alt","Me"),i(p,"class","signature-image svelte-b7hd5f"),i(a,"href","about"),i(E,"class","svelte-b7hd5f"),i(x,"class","svelte-b7hd5f"),i(y,"href","about"),i(I,"class","svelte-b7hd5f"),i(e,"class","svelte-b7hd5f")},m(t,s){d(t,e,s),g(e,a),g(a,p),g(e,w),g(e,E),g(E,_),g(e,b),g(e,y),g(y,x),g(x,T),g(e,D),g(e,I),g(I,C)},p:h,i:h,o:h,d(t){t&&o(e)}}}class $ extends t{constructor(t){super(),e(this,t,null,P,a,{})}}const{document:N}=D;function B(t){let e,a,h,p,D,I,C,P,B,M,j,S,O,A,U,H,k,R,G,z,q,L,J,W,X,Z,F,K,Q,Y,tt,et,at,st,nt,rt,lt,ot,ct,it,dt,ht,pt,mt,ut,ft,gt,vt,wt,Et,_t,bt,yt,xt,Tt,Dt,It,Ct,Vt,Pt,$t,Nt,Bt,Mt,jt,St,Ot,At,Ut,Ht,kt,Rt,Gt,zt,qt,Lt,Jt,Wt,Xt=t[0].title+"",Zt=t[0].headline+"",Ft=t[0].html+"";return N.title=e=t[0].title,lt=new $({}),ct=new V({props:{posts:t[1],currentPost:t[0]}}),{c(){a=s("meta"),h=s("meta"),p=s("meta"),D=s("meta"),C=s("meta"),P=s("meta"),M=s("meta"),j=n(),S=s("div"),O=s("h1"),A=m(Xt),U=n(),H=s("h2"),k=s("strong"),R=m(Zt),G=n(),z=s("div"),q=s("img"),W=n(),X=s("div"),Z=s("h3"),F=s("i"),K=m("Originally posted on "),Q=m(t[2]),Y=n(),tt=s("div"),et=n(),at=s("div"),st=n(),nt=s("br"),rt=n(),v(lt.$$.fragment),ot=n(),v(ct.$$.fragment),it=n(),dt=s("div"),ht=s("div"),pt=n(),mt=s("div"),ut=s("div"),ft=s("div"),gt=n(),vt=s("div"),wt=n(),Et=s("div"),_t=n(),bt=s("div"),yt=s("div"),xt=s("div"),Tt=n(),Dt=s("button"),It=n(),Ct=s("button"),Vt=n(),Pt=s("button"),$t=n(),Nt=s("button"),Bt=n(),Mt=s("div"),jt=s("div"),St=s("div"),Ot=s("div"),At=n(),Ut=s("div"),Ht=s("div"),kt=n(),Rt=s("button"),Gt=n(),zt=s("button"),qt=n(),Lt=s("div"),Jt=s("div"),this.h()},l(e){const s=w("svelte-btz695",N.head);a=r(s,"META",{name:!0,content:!0}),h=r(s,"META",{name:!0,content:!0}),p=r(s,"META",{name:!0,content:!0}),D=r(s,"META",{property:!0,content:!0}),C=r(s,"META",{property:!0,content:!0}),P=r(s,"META",{property:!0,content:!0}),M=r(s,"META",{property:!0,content:!0}),s.forEach(o),j=c(e),S=r(e,"DIV",{class:!0});var n=l(S);O=r(n,"H1",{class:!0});var i=l(O);A=u(i,Xt),i.forEach(o),U=c(n),H=r(n,"H2",{class:!0});var d=l(H);k=r(d,"STRONG",{});var m=l(k);R=u(m,Zt),m.forEach(o),d.forEach(o),n.forEach(o),G=c(e),z=r(e,"DIV",{class:!0});var f=l(z);q=r(f,"IMG",{src:!0,alt:!0,width:!0}),f.forEach(o),W=c(e),X=r(e,"DIV",{class:!0});var g=l(X);Z=r(g,"H3",{});var v=l(Z);F=r(v,"I",{});var _=l(F);K=u(_,"Originally posted on "),Q=u(_,t[2]),_.forEach(o),v.forEach(o),g.forEach(o),Y=c(e),tt=r(e,"DIV",{class:!0}),l(tt).forEach(o),et=c(e),at=r(e,"DIV",{class:!0}),l(at).forEach(o),st=c(e),nt=r(e,"BR",{}),rt=c(e),E(lt.$$.fragment,e),ot=c(e),E(ct.$$.fragment,e),it=c(e),dt=r(e,"DIV",{class:!0,tabindex:!0,role:!0,"aria-hidden":!0});var b=l(dt);ht=r(b,"DIV",{class:!0}),l(ht).forEach(o),pt=c(b),mt=r(b,"DIV",{class:!0});var y=l(mt);ut=r(y,"DIV",{class:!0});var x=l(ut);ft=r(x,"DIV",{class:!0}),l(ft).forEach(o),gt=c(x),vt=r(x,"DIV",{class:!0}),l(vt).forEach(o),wt=c(x),Et=r(x,"DIV",{class:!0}),l(Et).forEach(o),x.forEach(o),_t=c(y),bt=r(y,"DIV",{class:!0});var T=l(bt);yt=r(T,"DIV",{class:!0});var I=l(yt);xt=r(I,"DIV",{class:!0}),l(xt).forEach(o),Tt=c(I),Dt=r(I,"BUTTON",{class:!0,title:!0}),l(Dt).forEach(o),It=c(I),Ct=r(I,"BUTTON",{class:!0,title:!0}),l(Ct).forEach(o),Vt=c(I),Pt=r(I,"BUTTON",{class:!0,title:!0}),l(Pt).forEach(o),$t=c(I),Nt=r(I,"BUTTON",{class:!0,title:!0}),l(Nt).forEach(o),Bt=c(I),Mt=r(I,"DIV",{class:!0});var V=l(Mt);jt=r(V,"DIV",{class:!0});var $=l(jt);St=r($,"DIV",{class:!0});var B=l(St);Ot=r(B,"DIV",{class:!0}),l(Ot).forEach(o),B.forEach(o),$.forEach(o),V.forEach(o),I.forEach(o),At=c(T),Ut=r(T,"DIV",{class:!0});var L=l(Ut);Ht=r(L,"DIV",{class:!0}),l(Ht).forEach(o),L.forEach(o),kt=c(T),Rt=r(T,"BUTTON",{class:!0,title:!0}),l(Rt).forEach(o),Gt=c(T),zt=r(T,"BUTTON",{class:!0,title:!0}),l(zt).forEach(o),qt=c(T),Lt=r(T,"DIV",{class:!0});var J=l(Lt);Jt=r(J,"DIV",{class:!0}),l(Jt).forEach(o),J.forEach(o),T.forEach(o),y.forEach(o),b.forEach(o),this.h()},h(){i(a,"name","twitter:card"),i(a,"content","summary"),i(h,"name","twitter:site"),i(h,"content","@joshglasson"),i(p,"name","twitter:creator"),i(p,"content","@joshglasson"),i(D,"property","og:title"),i(D,"content",I=t[0].title),i(C,"property","og:image"),i(C,"content",t[4]),i(P,"property","og:description"),i(P,"content",B=t[0].headline),i(M,"property","og:url"),i(M,"content",t[3]),i(O,"class","svelte-p34v7a"),i(H,"class","svelte-p34v7a"),i(S,"class","postTitle svelte-p34v7a"),f(q.src,L=t[0].image)||i(q,"src",L),i(q,"alt",J=t[0].title),i(q,"width","100%"),i(z,"class","postImage"),i(X,"class","date svelte-p34v7a"),i(tt,"class","readTime svelte-p34v7a"),i(at,"class","content svelte-p34v7a"),i(ht,"class","pswp__bg"),i(ft,"class","pswp__item"),i(vt,"class","pswp__item"),i(Et,"class","pswp__item"),i(ut,"class","pswp__container"),i(xt,"class","pswp__counter"),i(Dt,"class","pswp__button pswp__button--close"),i(Dt,"title","Close (Esc)"),i(Ct,"class","pswp__button pswp__button--share"),i(Ct,"title","Share"),i(Pt,"class","pswp__button pswp__button--fs"),i(Pt,"title","Toggle fullscreen"),i(Nt,"class","pswp__button pswp__button--zoom"),i(Nt,"title","Zoom in/out"),i(Ot,"class","pswp__preloader__donut"),i(St,"class","pswp__preloader__cut"),i(jt,"class","pswp__preloader__icn"),i(Mt,"class","pswp__preloader"),i(yt,"class","pswp__top-bar"),i(Ht,"class","pswp__share-tooltip"),i(Ut,"class","pswp__share-modal pswp__share-modal--hidden pswp__single-tap"),i(Rt,"class","pswp__button pswp__button--arrow--left"),i(Rt,"title","Previous (arrow left)"),i(zt,"class","pswp__button pswp__button--arrow--right"),i(zt,"title","Next (arrow right)"),i(Jt,"class","pswp__caption__center"),i(Lt,"class","pswp__caption"),i(bt,"class","pswp__ui pswp__ui--hidden"),i(mt,"class","pswp__scroll-wrap"),i(dt,"class","pswp"),i(dt,"tabindex","-1"),i(dt,"role","dialog"),i(dt,"aria-hidden","true")},m(t,e){g(N.head,a),g(N.head,h),g(N.head,p),g(N.head,D),g(N.head,C),g(N.head,P),g(N.head,M),d(t,j,e),d(t,S,e),g(S,O),g(O,A),g(S,U),g(S,H),g(H,k),g(k,R),d(t,G,e),d(t,z,e),g(z,q),d(t,W,e),d(t,X,e),g(X,Z),g(Z,F),g(F,K),g(F,Q),d(t,Y,e),d(t,tt,e),d(t,et,e),d(t,at,e),at.innerHTML=Ft,d(t,st,e),d(t,nt,e),d(t,rt,e),_(lt,t,e),d(t,ot,e),_(ct,t,e),d(t,it,e),d(t,dt,e),g(dt,ht),g(dt,pt),g(dt,mt),g(mt,ut),g(ut,ft),g(ut,gt),g(ut,vt),g(ut,wt),g(ut,Et),g(mt,_t),g(mt,bt),g(bt,yt),g(yt,xt),g(yt,Tt),g(yt,Dt),g(yt,It),g(yt,Ct),g(yt,Vt),g(yt,Pt),g(yt,$t),g(yt,Nt),g(yt,Bt),g(yt,Mt),g(Mt,jt),g(jt,St),g(St,Ot),g(bt,At),g(bt,Ut),g(Ut,Ht),g(bt,kt),g(bt,Rt),g(bt,Gt),g(bt,zt),g(bt,qt),g(bt,Lt),g(Lt,Jt),Wt=!0},p(t,[a]){(!Wt||1&a)&&e!==(e=t[0].title)&&(N.title=e),(!Wt||1&a&&I!==(I=t[0].title))&&i(D,"content",I),(!Wt||1&a&&B!==(B=t[0].headline))&&i(P,"content",B),(!Wt||1&a)&&Xt!==(Xt=t[0].title+"")&&b(A,Xt),(!Wt||1&a)&&Zt!==(Zt=t[0].headline+"")&&b(R,Zt),(!Wt||1&a&&!f(q.src,L=t[0].image))&&i(q,"src",L),(!Wt||1&a&&J!==(J=t[0].title))&&i(q,"alt",J),(!Wt||1&a)&&Ft!==(Ft=t[0].html+"")&&(at.innerHTML=Ft);const s={};2&a&&(s.posts=t[1]),1&a&&(s.currentPost=t[0]),ct.$set(s)},i(t){Wt||(y(lt.$$.fragment,t),y(ct.$$.fragment,t),Wt=!0)},o(t){x(lt.$$.fragment,t),x(ct.$$.fragment,t),Wt=!1},d(t){o(a),o(h),o(p),o(D),o(C),o(P),o(M),t&&o(j),t&&o(S),t&&o(G),t&&o(z),t&&o(W),t&&o(X),t&&o(Y),t&&o(tt),t&&o(et),t&&o(at),t&&o(st),t&&o(nt),t&&o(rt),T(lt,t),t&&o(ot),T(ct,t),t&&o(it),t&&o(dt)}}}async function M({params:t,query:e}){const a=await this.fetch(`blog/${t.slug}.json`),s=await a.json(),n=await this.fetch("blog.json").then(t=>t.json()).then(t=>(t.sort((t,e)=>Date.parse(t.sortdate)>Date.parse(e.sortdate)?1:Date.parse(e.sortdate)>Date.parse(t.sortdate)?-1:0).reverse(),{posts:t}));if(200===a.status)return{post:s,posts:n};this.error(a.status,s.message)}function j(t,e,a){let{post:s}=e,{posts:n}=e,r=new Date(s.originaldate),l=new Date(s.sortdate),o=r.toDateString(),c="https://joshglasson.co.uk/blog/"+encodeURI(s.slug),i="https://joshglasson.co.uk"+encodeURI(s.image.substring(1));return p(async()=>{let t=(await import("./jquery.c882cea0.js").then(function(t){return t.j})).default;let e=(await import("./index.c306debf.js").then(function(t){return t.i})).default;if(async function(){var a=await async function(){for(var e=t(s.html),a="",n=0;n<e.length;n++)"codeSnippet"!==e[n].id&&(a+=e[n].textContent);return a}();const n=e(a);var r=document.getElementsByClassName("readTime")[0],l=document.createElement("h3"),o=document.createElement("i");o.textContent=n.text+" ("+n.words+" words)",l.appendChild(o),r.appendChild(l)}(),r.getTime()!=l.getTime()){var a=document.getElementsByClassName("date")[0],n=document.createElement("h3"),o=document.createElement("i");o.textContent="Updated on "+l.toDateString(),n.appendChild(o),a.appendChild(n)}for(var c=document.getElementsByTagName("code"),i=0;i<c.length;i++){c[i].style.whiteSpace="pre-wrap"}var d=document.body;function h(){return"false"===localStorage.getItem("dark_mode_toggle")?"light":"dark"}function p(t){!function(){var t=document.getElementsByClassName("twitter-tweet twitter-tweet-rendered");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}();for(var e=document.getElementsByClassName("tweetToEmbed"),a=0;a<e.length;a++){var s=e[a],n=s.parentElement;window.twttr.widgets.createTweet(s.innerText,n,{align:"center",theme:t,dnt:"true"})}}new MutationObserver(function(t,e){t.forEach(t=>{"class"===t.attributeName&&p(h())})}).observe(d,{attributes:!0}),p(h());var m,u=document.getElementsByTagName("IMG"),f=[],g=[],v=document.querySelectorAll(".pswp")[0];async function w(t){var e={index:t,galleryUID:s.slug,shareButtons:[{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],maxSpreadZoom:3};await async function(t,e,a,s){m=new PhotoSwipe(t,e,a,s)}(v,PhotoSwipeUI_Default,f,e),m.listen("close",function(){navbar.style.zIndex=9999})}function E(){m.init(),navbar.style.zIndex=0}!async function(){if(await async function(){for(var t=0;t<u.length;t++)if(!u[t].className.includes("modal-content")&&!u[t].className.includes("signature-image")&&!u[t].className.includes("Thumbnail")){var e=u[t];if(g.indexOf(e.src)<0){var a={src:e.src,title:e.alt,w:e.width,h:e.height};f.push(a),g.push(e.src)}u[t].addEventListener("click",async function(t){t.preventDefault();var e=g.indexOf(this.src);await w(e),E()})}}(),""!=window.location.hash){var t=(e="pid",(a=location.hash.match(new RegExp(e+"=(d+)")))?a[1]:null);await w(t),E()}var e,a}()}),t.$$set=t=>{"post"in t&&a(0,s=t.post),"posts"in t&&a(1,n=t.posts)},[s,n,o,c,i]}class S extends t{constructor(t){super(),e(this,t,j,B,a,{post:0,posts:1})}}export{S as default,M as preload};
