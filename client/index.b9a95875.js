import{S as e,i as t,s,e as a,a as l,t as r,b as i,f as n,d as o,c,g as h,h as d,j as f,k as g,l as u,m as v,q as p,o as m,n as x,p as y,r as E,u as b}from"./client.3279cf1f.js";const{document:T}=b;function P(e,t,s){const a=e.slice();return a[7]=t[s],a}function j(e){let t,s,v,p,m,x,y,E,b,T,P,j,k,B,L,A,I=e[7].title+"",F=e[7].headline+"";return{c(){t=a("div"),s=a("div"),v=a("a"),p=a("img"),y=l(),E=a("div"),b=a("a"),T=a("h1"),P=r(I),k=l(),B=a("h2"),L=r(F),A=l(),this.h()},l(e){t=i(e,"DIV",{class:!0});var a=n(t);s=i(a,"DIV",{id:!0,class:!0});var l=n(s);v=i(l,"A",{href:!0});var r=n(v);p=i(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(o),l.forEach(o),y=c(a),E=i(a,"DIV",{id:!0,class:!0});var d=n(E);b=i(d,"A",{rel:!0,href:!0});var f=n(b);T=i(f,"H1",{class:!0});var g=n(T);P=h(g,I),g.forEach(o),f.forEach(o),k=c(d),B=i(d,"H2",{class:!0});var u=n(B);L=h(u,F),u.forEach(o),d.forEach(o),A=c(a),a.forEach(o),this.h()},h(){p.src!==(m=e[7].image)&&d(p,"src",m),d(p,"alt","Thumbnail"),d(p,"class","svelte-ix00xj"),d(v,"href",x="blog/"+e[7].slug),d(s,"id","thumb"),d(s,"class","svelte-ix00xj"),d(T,"class","svelte-ix00xj"),d(b,"rel","prefetch"),d(b,"href",j="blog/"+e[7].slug),d(B,"class","svelte-ix00xj"),d(E,"id","text"),d(E,"class","svelte-ix00xj"),d(t,"class","svelte-ix00xj")},m(e,a){f(e,t,a),g(t,s),g(s,v),g(v,p),g(t,y),g(t,E),g(E,b),g(b,T),g(T,P),g(E,k),g(E,B),g(B,L),g(t,A)},p(e,t){1&t&&p.src!==(m=e[7].image)&&d(p,"src",m),1&t&&x!==(x="blog/"+e[7].slug)&&d(v,"href",x),1&t&&I!==(I=e[7].title+"")&&u(P,I),1&t&&j!==(j="blog/"+e[7].slug)&&d(b,"href",j),1&t&&F!==(F=e[7].headline+"")&&u(L,F)},d(e){e&&o(t)}}}function k(e){let t,s,E,b,k,B,L,A,I,F,C,D,N,_,w,H,V,O,U,R,M,S,q,G,$,z,J,K,Q,W,X=e[1]?"Any":"All",Y=e[0],Z=[];for(let t=0;t<Y.length;t+=1)Z[t]=j(P(e,Y,t));return{c(){t=l(),s=a("div"),E=a("h1"),b=r("Recent posts"),k=l(),B=a("form"),L=a("input"),A=l(),I=a("input"),F=l(),C=a("label"),D=r("advanced search"),N=l(),_=a("button"),w=r("View Posts by Tags"),H=l(),V=a("div"),O=a("label"),U=a("input"),R=l(),M=a("span"),S=l(),q=a("p"),G=r("Find Posts with "),$=r(X),z=r(" Tags"),J=l(),K=a("form"),Q=l();for(let e=0;e<Z.length;e+=1)Z[e].c();W=v(),this.h()},l(e){p('[data-svelte="svelte-hfp9t8"]',T.head).forEach(o),t=c(e),s=i(e,"DIV",{class:!0});var a=n(s);E=i(a,"H1",{id:!0});var l=n(E);b=h(l,"Recent posts"),l.forEach(o),k=c(a),B=i(a,"FORM",{id:!0});var r=n(B);L=i(r,"INPUT",{type:!0,placeholder:!0}),A=c(r),I=i(r,"INPUT",{type:!0,name:!0,id:!0,value:!0}),F=c(r),C=i(r,"LABEL",{for:!0});var d=n(C);D=h(d,"advanced search"),d.forEach(o),r.forEach(o),N=c(a),_=i(a,"BUTTON",{class:!0});var f=n(_);w=h(f,"View Posts by Tags"),f.forEach(o),H=c(a),V=i(a,"DIV",{class:!0,id:!0});var g=n(V);O=i(g,"LABEL",{class:!0,for:!0});var u=n(O);U=i(u,"INPUT",{type:!0,id:!0,class:!0}),R=c(u),M=i(u,"SPAN",{class:!0}),n(M).forEach(o),u.forEach(o),S=c(g),q=i(g,"P",{style:!0});var m=n(q);G=h(m,"Find Posts with "),$=h(m,X),z=h(m," Tags"),m.forEach(o),J=c(g),K=i(g,"FORM",{id:!0}),n(K).forEach(o),g.forEach(o),a.forEach(o),Q=c(e);for(let t=0;t<Z.length;t+=1)Z[t].l(e);W=v(),this.h()},h(){T.title="Blog",d(E,"id","pageTitle"),d(L,"type","text"),d(L,"placeholder","Search Posts"),d(I,"type","checkbox"),d(I,"name","checkbox"),d(I,"id","checkbox_id"),I.value="value",d(C,"for","checkbox_id"),d(B,"id","search"),d(_,"class","collapsible svelte-ix00xj"),d(U,"type","checkbox"),d(U,"id","any_all_slider"),d(U,"class","svelte-ix00xj"),d(M,"class","slider round svelte-ix00xj"),d(O,"class","switch svelte-ix00xj"),d(O,"for","any_all_slider"),m(q,"display","inline-block"),d(K,"id","filter-form"),d(V,"class","filters svelte-ix00xj"),d(V,"id","filter-form-div"),d(s,"class","top svelte-ix00xj")},m(e,a){f(e,t,a),f(e,s,a),g(s,E),g(E,b),g(s,k),g(s,B),g(B,L),g(B,A),g(B,I),g(B,F),g(B,C),g(C,D),g(s,N),g(s,_),g(_,w),g(s,H),g(s,V),g(V,O),g(O,U),g(O,R),g(O,M),g(V,S),g(V,q),g(q,G),g(q,$),g(q,z),g(V,J),g(V,K),f(e,Q,a);for(let t=0;t<Z.length;t+=1)Z[t].m(e,a);f(e,W,a)},p(e,[t]){if(2&t&&X!==(X=e[1]?"Any":"All")&&u($,X),1&t){let s;for(Y=e[0],s=0;s<Y.length;s+=1){const a=P(e,Y,s);Z[s]?Z[s].p(a,t):(Z[s]=j(a),Z[s].c(),Z[s].m(W.parentNode,W))}for(;s<Z.length;s+=1)Z[s].d(1);Z.length=Y.length}},i:x,o:x,d(e){e&&o(t),e&&o(s),e&&o(Q),y(Z,e),e&&o(W)}}}function B({params:e,query:t}){return this.fetch("blog.json").then(e=>e.json()).then(e=>(e.sort((e,t)=>Date.parse(e.sortdate)>Date.parse(t.sortdate)?1:Date.parse(t.sortdate)>Date.parse(e.sortdate)?-1:0).reverse(),{posts:e}))}function L(e,t,s){let{posts:a}=t,{filteredPosts:l=a}=t,{tagFilteredPosts:r}=t,{tags:i=[]}=t,{tagsToFilter:n=[]}=t,{filterByAnyTags:o=!0}=t;return E(()=>{var e=document.getElementById("search");function t(){if(s(2,r=a),n.length>0){s(2,r=[]);for(var t=0;t<a.length;t++){var i=a[t],c=i.tags.filter((function(e){return-1!=n.indexOf(e)}));o?c.length>0&&r.push(i):c.length==n.length&&r.push(i)}}s(0,l=r),function(){if(""!==e[0].value){s(0,l=[]);for(var t=0;t<r.length;t++){var a=r[t],i=e[0].value.toLowerCase();e[1].checked?(a.title.toLowerCase().includes(i)||a.headline.toLowerCase().includes(i))&&l.push(a):a.title.toLowerCase().includes(i)&&l.push(a)}}}()}e[0].value="",e[1].checked=!1,e.addEventListener("input",(function(e){t()})),e.onkeypress=function(e){13==(e.charCode||e.keyCode||0)&&e.preventDefault()};var c=document.getElementById("filter-form");!function(){!function(){for(var e=0;e<a.length;e++)s(3,i=i.concat(a[e].tags.filter(e=>i.indexOf(e)<0)));s(3,i=i.sort())}();for(var e=0;e<i.length;e++){var l=document.createElement("INPUT"),r=document.createElement("LABEL"),o=i[e];l.type="checkbox",l.name=o,l.id=o+"_id",l.value="value",l.className="filter-input",r.htmlFor=o+"_id",r.textContent=o,console.log(r),c.appendChild(l),c.appendChild(r),c.appendChild(document.createElement("br"))}!function(){for(var e=document.getElementsByClassName("filter-input"),s=0;s<e.length;s++){e[s].addEventListener("change",(function(e){if(this.checked)n.push(e.target.name),t();else{const s=n.indexOf(e.target.name);s>-1&&n.splice(s,1),t()}}))}}()}();for(var h=document.getElementsByClassName("collapsible"),d=0;d<h.length;d++)h[d].addEventListener("click",(function(){this.classList.toggle("active");var e=document.getElementById("filter-form-div");e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}));var f=document.getElementById("any_all_slider");f.checked=!1,f.addEventListener("change",(function(e){this.checked?(s(1,o=!1),t()):(s(1,o=!0),t())}))}),e.$set=e=>{"posts"in e&&s(4,a=e.posts),"filteredPosts"in e&&s(0,l=e.filteredPosts),"tagFilteredPosts"in e&&s(2,r=e.tagFilteredPosts),"tags"in e&&s(3,i=e.tags),"tagsToFilter"in e&&s(5,n=e.tagsToFilter),"filterByAnyTags"in e&&s(1,o=e.filterByAnyTags)},[l,o,r,i,a,n]}export default class extends e{constructor(e){super(),t(this,e,L,k,s,{posts:4,filteredPosts:0,tagFilteredPosts:2,tags:3,tagsToFilter:5,filterByAnyTags:1})}}export{B as preload};
