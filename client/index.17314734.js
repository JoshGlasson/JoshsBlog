import{S as e,i as t,s,e as a,a as l,t as r,b as i,f as o,d as c,c as n,g as h,h as f,j as d,k as g,l as u,m as v,q as p,n as m,o as b,p as E,r as x}from"./client.ca8d1b0b.js";const{document:y}=x;function P(e,t,s){const a=e.slice();return a[6]=t[s],a}function w(e){let t,s,v,p,m,b,E,x,y,P,w,k,C,F,L,I,T=e[6].title+"",B=e[6].headline+"";return{c(){t=a("div"),s=a("div"),v=a("a"),p=a("img"),E=l(),x=a("div"),y=a("a"),P=a("h1"),w=r(T),C=l(),F=a("h2"),L=r(B),I=l(),this.h()},l(e){t=i(e,"DIV",{class:!0});var a=o(t);s=i(a,"DIV",{id:!0,class:!0});var l=o(s);v=i(l,"A",{href:!0});var r=o(v);p=i(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(c),l.forEach(c),E=n(a),x=i(a,"DIV",{id:!0,class:!0});var f=o(x);y=i(f,"A",{rel:!0,href:!0});var d=o(y);P=i(d,"H1",{class:!0});var g=o(P);w=h(g,T),g.forEach(c),d.forEach(c),C=n(f),F=i(f,"H2",{class:!0});var u=o(F);L=h(u,B),u.forEach(c),f.forEach(c),I=n(a),a.forEach(c),this.h()},h(){p.src!==(m=e[6].image)&&f(p,"src",m),f(p,"alt","Thumbnail"),f(p,"class","svelte-abilw9"),f(v,"href",b="blog/"+e[6].slug),f(s,"id","thumb"),f(s,"class","svelte-abilw9"),f(P,"class","svelte-abilw9"),f(y,"rel","prefetch"),f(y,"href",k="blog/"+e[6].slug),f(F,"class","svelte-abilw9"),f(x,"id","text"),f(x,"class","svelte-abilw9"),f(t,"class","svelte-abilw9")},m(e,a){d(e,t,a),g(t,s),g(s,v),g(v,p),g(t,E),g(t,x),g(x,y),g(y,P),g(P,w),g(x,C),g(x,F),g(F,L),g(t,I)},p(e,t){1&t&&p.src!==(m=e[6].image)&&f(p,"src",m),1&t&&b!==(b="blog/"+e[6].slug)&&f(v,"href",b),1&t&&T!==(T=e[6].title+"")&&u(w,T),1&t&&k!==(k="blog/"+e[6].slug)&&f(y,"href",k),1&t&&B!==(B=e[6].headline+"")&&u(L,B)},d(e){e&&c(t)}}}function k(e){let t,s,u,E,x,k,C,F,L,I,T,B,N,H,D,O,U,V,j,A,R=e[0],M=[];for(let t=0;t<R.length;t+=1)M[t]=w(P(e,R,t));return{c(){t=l(),s=a("div"),u=a("h1"),E=r("Recent posts"),x=l(),k=a("form"),C=a("input"),F=l(),L=a("input"),I=l(),T=a("label"),B=r("advanced search"),N=l(),H=a("button"),D=r("Filter Posts"),O=l(),U=a("div"),V=a("form"),j=l();for(let e=0;e<M.length;e+=1)M[e].c();A=v(),this.h()},l(e){p('[data-svelte="svelte-hfp9t8"]',y.head).forEach(c),t=n(e),s=i(e,"DIV",{class:!0});var a=o(s);u=i(a,"H1",{id:!0});var l=o(u);E=h(l,"Recent posts"),l.forEach(c),x=n(a),k=i(a,"FORM",{id:!0});var r=o(k);C=i(r,"INPUT",{type:!0,placeholder:!0}),F=n(r),L=i(r,"INPUT",{type:!0,name:!0,id:!0,value:!0}),I=n(r),T=i(r,"LABEL",{for:!0});var f=o(T);B=h(f,"advanced search"),f.forEach(c),r.forEach(c),N=n(a),H=i(a,"BUTTON",{class:!0});var d=o(H);D=h(d,"Filter Posts"),d.forEach(c),O=n(a),U=i(a,"DIV",{class:!0});var g=o(U);V=i(g,"FORM",{id:!0}),o(V).forEach(c),g.forEach(c),a.forEach(c),j=n(e);for(let t=0;t<M.length;t+=1)M[t].l(e);A=v(),this.h()},h(){y.title="Blog",f(u,"id","pageTitle"),f(C,"type","text"),f(C,"placeholder","Search Posts"),f(L,"type","checkbox"),f(L,"name","checkbox"),f(L,"id","checkbox_id"),L.value="value",f(T,"for","checkbox_id"),f(k,"id","search"),f(H,"class","collapsible svelte-abilw9"),f(V,"id","filter-form"),f(U,"class","filters svelte-abilw9"),f(s,"class","top svelte-abilw9")},m(e,a){d(e,t,a),d(e,s,a),g(s,u),g(u,E),g(s,x),g(s,k),g(k,C),g(k,F),g(k,L),g(k,I),g(k,T),g(T,B),g(s,N),g(s,H),g(H,D),g(s,O),g(s,U),g(U,V),d(e,j,a);for(let t=0;t<M.length;t+=1)M[t].m(e,a);d(e,A,a)},p(e,[t]){if(1&t){let s;for(R=e[0],s=0;s<R.length;s+=1){const a=P(e,R,s);M[s]?M[s].p(a,t):(M[s]=w(a),M[s].c(),M[s].m(A.parentNode,A))}for(;s<M.length;s+=1)M[s].d(1);M.length=R.length}},i:m,o:m,d(e){e&&c(t),e&&c(s),e&&c(j),b(M,e),e&&c(A)}}}function C({params:e,query:t}){return this.fetch("blog.json").then(e=>e.json()).then(e=>(e.sort().reverse(),{posts:e}))}function F(e,t,s){let{posts:a}=t,{filteredPosts:l=a}=t,{tagFilteredPosts:r}=t,{tags:i=[]}=t,{tagsToFilter:o=[]}=t;return E(()=>{var e=document.getElementById("search");function t(){if(s(1,r=a),o.length>0){s(1,r=[]);for(var t=0;t<a.length;t++){var i=a[t];i.tags.filter((function(e){return-1!=o.indexOf(e)})).length>0&&r.push(i)}}s(0,l=r),function(){if(""!==e[0].value){s(0,l=[]);for(var t=0;t<r.length;t++){var a=r[t],i=e[0].value.toLowerCase();e[1].checked?(a.title.toLowerCase().includes(i)||a.headline.toLowerCase().includes(i))&&l.push(a):a.title.toLowerCase().includes(i)&&l.push(a)}}}()}e[0].value="",e[1].checked=!1,e.addEventListener("input",(function(e){t()})),e.onkeypress=function(e){13==(e.charCode||e.keyCode||0)&&e.preventDefault()};var c=document.getElementById("filter-form");!function(){!function(){for(var e=0;e<a.length;e++)s(2,i=i.concat(a[e].tags.filter(e=>i.indexOf(e)<0)));s(2,i=i.sort())}();for(var e=0;e<i.length;e++){var l=document.createElement("INPUT"),r=document.createElement("LABEL"),n=i[e],h=n[0].toUpperCase()+n.slice(1);l.type="checkbox",l.id=n,l.className="filter-input",r.for=n,r.textContent=h,c.appendChild(l),c.appendChild(r)}!function(){for(var e=document.getElementsByClassName("filter-input"),s=0;s<e.length;s++){e[s].addEventListener("change",(function(e){if(this.checked)o.push(e.target.id),t();else{const s=o.indexOf(e.target.id);s>-1&&o.splice(s,1),t()}}))}}()}();for(var n=document.getElementsByClassName("collapsible"),h=0;h<n.length;h++)n[h].addEventListener("click",(function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}))}),e.$set=e=>{"posts"in e&&s(3,a=e.posts),"filteredPosts"in e&&s(0,l=e.filteredPosts),"tagFilteredPosts"in e&&s(1,r=e.tagFilteredPosts),"tags"in e&&s(2,i=e.tags),"tagsToFilter"in e&&s(4,o=e.tagsToFilter)},[l,r,i,a,o]}export default class extends e{constructor(e){super(),t(this,e,F,k,s,{posts:3,filteredPosts:0,tagFilteredPosts:1,tags:2,tagsToFilter:4})}}export{C as preload};
