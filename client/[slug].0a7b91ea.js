import{S as e,i as t,s as a,e as s,a as n,c as r,f as l,d as o,b as c,h as i,k as d,n as h,p,t as m,g as u,j as f,u as g,q as v,v as w,w as E,l as _,x as b,y,z as x,r as T}from"./client.c45aaace.js";function D(e){let t,a,p;return{c(){t=s("div"),a=n(),p=s("div"),this.h()},l(e){t=r(e,"DIV",{id:!0}),l(t).forEach(o),a=c(e),p=r(e,"DIV",{id:!0}),l(p).forEach(o),this.h()},h(){i(t,"id","recentPosts"),i(p,"id","relatedPosts")},m(e,s){d(e,t,s),d(e,a,s),d(e,p,s)},p:h,i:h,o:h,d(e){e&&o(t),e&&o(a),e&&o(p)}}}function I(e,t,a){let{posts:s}=t,{currentPost:n}=t,r=Object.values(s)[0].slice();return p(async()=>{let e=[],t=[],a=[];for(var s=0;s<r.length;s++)r[s].title==n.title&&r.splice(s,1);e=r.slice().splice(0,2);for(s=0;s<r.length;s++){var l=r[s];n.tags.indexOf(l.tags[0])>-1&&a.push(l)}await async function(){await async function(e,s){if(a.length>1){let n=Math.floor(Math.random()*(s-e+1))+e,r=Math.floor(Math.random()*(s-e+1))+e;for(;n===r;)r=Math.floor(Math.random()*(s-e+1))+e;t.push(a[n]),t.push(a[r])}else t=a.slice()}(0,a.length-1);var e=document.getElementById("relatedPosts");if(t.length>0){var s=document.createElement("h1");s.innerText="Related Posts",s.style.borderBottom="1px solid lightgray",e.insertBefore(s,e.firstChild)}for(var n=0;n<t.length;n++){var r=t[n],l=document.createElement("div"),o=document.createElement("a"),c=document.createElement("img"),i=document.createElement("a"),d=document.createElement("h2"),h=document.createElement("h3");h.innerText=r.headline,h.style.verticalAlign="middle",d.innerText=r.title,i.href="blog/"+r.slug,i.rel="external",c.src=r.image,c.alt="Post Thumbnail",c.className="Thumbnail",c.style.display="block",c.style.float="left",c.style.maxWidth="100px",c.style.maxHeight="100px",c.style.margin="0 1em 0 0",o.href="blog/"+r.slug,o.rel="external",o.appendChild(c),i.appendChild(d),l.appendChild(o),l.appendChild(i),l.appendChild(h),l.style.margin="0 0 1em 0",l.style.width="100%",l.style.overflowX="auto",e.appendChild(l)}}(),await async function(){var t=document.getElementById("recentPosts");if(e.length>0){var a=document.createElement("h1");a.innerText="Recent Posts",a.style.borderBottom="1px solid lightgray",t.insertBefore(a,t.firstChild)}for(var s=0;s<e.length;s++){var n=e[s],r=document.createElement("div"),l=document.createElement("a"),o=document.createElement("img"),c=document.createElement("a"),i=document.createElement("h2"),d=document.createElement("h3");d.innerText=n.headline,d.style.verticalAlign="middle",i.innerText=n.title,c.href="blog/"+n.slug,c.rel="external",o.src=n.image,o.alt="Post Thumbnail",o.className="Thumbnail",o.style.display="block",o.style.float="left",o.style.maxWidth="100px",o.style.maxHeight="100px",o.style.margin="0 1em 0 0",l.href="blog/"+n.slug,l.rel="external",l.appendChild(o),c.appendChild(i),r.appendChild(l),r.appendChild(c),r.appendChild(d),r.style.margin="0 0 1em 0",r.style.width="100%",r.style.overflowX="auto",t.appendChild(r)}}()}),e.$set=e=>{"posts"in e&&a(0,s=e.posts),"currentPost"in e&&a(1,n=e.currentPost)},[s,n]}class C extends e{constructor(e){super(),t(this,e,I,D,a,{posts:0,currentPost:1})}}function V(e){let t,a,p,g,v,w,E,_,b,y,x,T,D,I;return{c(){t=s("div"),a=s("a"),p=s("img"),v=n(),w=s("h3"),E=m("Post by"),_=n(),b=s("a"),y=s("h1"),x=m("Josh Glasson"),T=n(),D=s("h3"),I=m("Software Developer. Creator and owner of this blog."),this.h()},l(e){t=r(e,"DIV",{class:!0});var s=l(t);a=r(s,"A",{href:!0});var n=l(a);p=r(n,"IMG",{src:!0,alt:!0,class:!0}),n.forEach(o),v=c(s),w=r(s,"H3",{class:!0});var i=l(w);E=u(i,"Post by"),i.forEach(o),_=c(s),b=r(s,"A",{href:!0});var d=l(b);y=r(d,"H1",{class:!0});var h=l(y);x=u(h,"Josh Glasson"),h.forEach(o),d.forEach(o),T=c(s),D=r(s,"H3",{class:!0});var m=l(D);I=u(m,"Software Developer. Creator and owner of this blog."),m.forEach(o),s.forEach(o),this.h()},h(){p.src!==(g="./images/about/Small Profile Pic.jpg")&&i(p,"src","./images/about/Small Profile Pic.jpg"),i(p,"alt","Me"),i(p,"class","signature-image svelte-b7hd5f"),i(a,"href","about"),i(w,"class","svelte-b7hd5f"),i(y,"class","svelte-b7hd5f"),i(b,"href","about"),i(D,"class","svelte-b7hd5f"),i(t,"class","svelte-b7hd5f")},m(e,s){d(e,t,s),f(t,a),f(a,p),f(t,v),f(t,w),f(w,E),f(t,_),f(t,b),f(b,y),f(y,x),f(t,T),f(t,D),f(D,I)},p:h,i:h,o:h,d(e){e&&o(t)}}}class P extends e{constructor(e){super(),t(this,e,null,V,a,{})}}const{document:N}=T;function B(e){let t,a,h,p,T,D,I,V,B,$,M,j,S,O,A,U,H,k,R,z,G,q,L,J,W,X,Z,F,K,Q,Y,ee,te,ae,se,ne,re,le,oe,ce,ie,de,he,pe,me,ue,fe,ge,ve,we,Ee,_e,be,ye,xe,Te,De,Ie,Ce,Ve,Pe,Ne,Be,$e,Me,je,Se,Oe,Ae,Ue,He,ke,Re,ze=e[0].title+"",Ge=e[0].headline+"",qe=e[0].html+"";return N.title=t=e[0].title,ee=new P({}),ae=new C({props:{posts:e[1],currentPost:e[0]}}),{c(){a=s("meta"),h=s("meta"),p=s("meta"),T=s("meta"),I=s("meta"),V=s("meta"),$=s("meta"),M=n(),j=s("div"),S=s("h1"),O=m(ze),A=n(),U=s("h2"),H=s("strong"),k=m(Ge),R=n(),z=s("div"),G=s("h3"),q=s("i"),L=m("Originally posted on "),J=m(e[2]),W=n(),X=s("div"),Z=n(),F=s("div"),K=n(),Q=s("br"),Y=n(),g(ee.$$.fragment),te=n(),g(ae.$$.fragment),se=n(),ne=s("div"),re=s("div"),le=n(),oe=s("div"),ce=s("div"),ie=s("div"),de=n(),he=s("div"),pe=n(),me=s("div"),ue=n(),fe=s("div"),ge=s("div"),ve=s("div"),we=n(),Ee=s("button"),_e=n(),be=s("button"),ye=n(),xe=s("button"),Te=n(),De=s("button"),Ie=n(),Ce=s("div"),Ve=s("div"),Pe=s("div"),Ne=s("div"),Be=n(),$e=s("div"),Me=s("div"),je=n(),Se=s("button"),Oe=n(),Ae=s("button"),Ue=n(),He=s("div"),ke=s("div"),this.h()},l(t){const s=v('[data-svelte="svelte-btz695"]',N.head);a=r(s,"META",{name:!0,content:!0}),h=r(s,"META",{name:!0,content:!0}),p=r(s,"META",{name:!0,content:!0}),T=r(s,"META",{property:!0,content:!0}),I=r(s,"META",{property:!0,content:!0}),V=r(s,"META",{property:!0,content:!0}),$=r(s,"META",{property:!0,content:!0}),s.forEach(o),M=c(t),j=r(t,"DIV",{class:!0});var n=l(j);S=r(n,"H1",{class:!0});var i=l(S);O=u(i,ze),i.forEach(o),A=c(n),U=r(n,"H2",{class:!0});var d=l(U);H=r(d,"STRONG",{});var m=l(H);k=u(m,Ge),m.forEach(o),d.forEach(o),n.forEach(o),R=c(t),z=r(t,"DIV",{class:!0});var f=l(z);G=r(f,"H3",{});var g=l(G);q=r(g,"I",{});var E=l(q);L=u(E,"Originally posted on "),J=u(E,e[2]),E.forEach(o),g.forEach(o),f.forEach(o),W=c(t),X=r(t,"DIV",{class:!0}),l(X).forEach(o),Z=c(t),F=r(t,"DIV",{class:!0}),l(F).forEach(o),K=c(t),Q=r(t,"BR",{}),Y=c(t),w(ee.$$.fragment,t),te=c(t),w(ae.$$.fragment,t),se=c(t),ne=r(t,"DIV",{class:!0,tabindex:!0,role:!0,"aria-hidden":!0});var _=l(ne);re=r(_,"DIV",{class:!0}),l(re).forEach(o),le=c(_),oe=r(_,"DIV",{class:!0});var b=l(oe);ce=r(b,"DIV",{class:!0});var y=l(ce);ie=r(y,"DIV",{class:!0}),l(ie).forEach(o),de=c(y),he=r(y,"DIV",{class:!0}),l(he).forEach(o),pe=c(y),me=r(y,"DIV",{class:!0}),l(me).forEach(o),y.forEach(o),ue=c(b),fe=r(b,"DIV",{class:!0});var x=l(fe);ge=r(x,"DIV",{class:!0});var D=l(ge);ve=r(D,"DIV",{class:!0}),l(ve).forEach(o),we=c(D),Ee=r(D,"BUTTON",{class:!0,title:!0}),l(Ee).forEach(o),_e=c(D),be=r(D,"BUTTON",{class:!0,title:!0}),l(be).forEach(o),ye=c(D),xe=r(D,"BUTTON",{class:!0,title:!0}),l(xe).forEach(o),Te=c(D),De=r(D,"BUTTON",{class:!0,title:!0}),l(De).forEach(o),Ie=c(D),Ce=r(D,"DIV",{class:!0});var C=l(Ce);Ve=r(C,"DIV",{class:!0});var P=l(Ve);Pe=r(P,"DIV",{class:!0});var B=l(Pe);Ne=r(B,"DIV",{class:!0}),l(Ne).forEach(o),B.forEach(o),P.forEach(o),C.forEach(o),D.forEach(o),Be=c(x),$e=r(x,"DIV",{class:!0});var Re=l($e);Me=r(Re,"DIV",{class:!0}),l(Me).forEach(o),Re.forEach(o),je=c(x),Se=r(x,"BUTTON",{class:!0,title:!0}),l(Se).forEach(o),Oe=c(x),Ae=r(x,"BUTTON",{class:!0,title:!0}),l(Ae).forEach(o),Ue=c(x),He=r(x,"DIV",{class:!0});var qe=l(He);ke=r(qe,"DIV",{class:!0}),l(ke).forEach(o),qe.forEach(o),x.forEach(o),b.forEach(o),_.forEach(o),this.h()},h(){i(a,"name","twitter:card"),i(a,"content","summary"),i(h,"name","twitter:site"),i(h,"content","@joshglasson"),i(p,"name","twitter:creator"),i(p,"content","@joshglasson"),i(T,"property","og:title"),i(T,"content",D=e[0].title),i(I,"property","og:image"),i(I,"content",e[4]),i(V,"property","og:description"),i(V,"content",B=e[0].headline),i($,"property","og:url"),i($,"content",e[3]),i(S,"class","svelte-2ne1xb"),i(U,"class","svelte-2ne1xb"),i(j,"class","postTitle svelte-2ne1xb"),i(z,"class","date svelte-2ne1xb"),i(X,"class","readTime svelte-2ne1xb"),i(F,"class","content svelte-2ne1xb"),i(re,"class","pswp__bg"),i(ie,"class","pswp__item"),i(he,"class","pswp__item"),i(me,"class","pswp__item"),i(ce,"class","pswp__container"),i(ve,"class","pswp__counter"),i(Ee,"class","pswp__button pswp__button--close"),i(Ee,"title","Close (Esc)"),i(be,"class","pswp__button pswp__button--share"),i(be,"title","Share"),i(xe,"class","pswp__button pswp__button--fs"),i(xe,"title","Toggle fullscreen"),i(De,"class","pswp__button pswp__button--zoom"),i(De,"title","Zoom in/out"),i(Ne,"class","pswp__preloader__donut"),i(Pe,"class","pswp__preloader__cut"),i(Ve,"class","pswp__preloader__icn"),i(Ce,"class","pswp__preloader"),i(ge,"class","pswp__top-bar"),i(Me,"class","pswp__share-tooltip"),i($e,"class","pswp__share-modal pswp__share-modal--hidden pswp__single-tap"),i(Se,"class","pswp__button pswp__button--arrow--left"),i(Se,"title","Previous (arrow left)"),i(Ae,"class","pswp__button pswp__button--arrow--right"),i(Ae,"title","Next (arrow right)"),i(ke,"class","pswp__caption__center"),i(He,"class","pswp__caption"),i(fe,"class","pswp__ui pswp__ui--hidden"),i(oe,"class","pswp__scroll-wrap"),i(ne,"class","pswp"),i(ne,"tabindex","-1"),i(ne,"role","dialog"),i(ne,"aria-hidden","true")},m(e,t){f(N.head,a),f(N.head,h),f(N.head,p),f(N.head,T),f(N.head,I),f(N.head,V),f(N.head,$),d(e,M,t),d(e,j,t),f(j,S),f(S,O),f(j,A),f(j,U),f(U,H),f(H,k),d(e,R,t),d(e,z,t),f(z,G),f(G,q),f(q,L),f(q,J),d(e,W,t),d(e,X,t),d(e,Z,t),d(e,F,t),F.innerHTML=qe,d(e,K,t),d(e,Q,t),d(e,Y,t),E(ee,e,t),d(e,te,t),E(ae,e,t),d(e,se,t),d(e,ne,t),f(ne,re),f(ne,le),f(ne,oe),f(oe,ce),f(ce,ie),f(ce,de),f(ce,he),f(ce,pe),f(ce,me),f(oe,ue),f(oe,fe),f(fe,ge),f(ge,ve),f(ge,we),f(ge,Ee),f(ge,_e),f(ge,be),f(ge,ye),f(ge,xe),f(ge,Te),f(ge,De),f(ge,Ie),f(ge,Ce),f(Ce,Ve),f(Ve,Pe),f(Pe,Ne),f(fe,Be),f(fe,$e),f($e,Me),f(fe,je),f(fe,Se),f(fe,Oe),f(fe,Ae),f(fe,Ue),f(fe,He),f(He,ke),Re=!0},p(e,[a]){(!Re||1&a)&&t!==(t=e[0].title)&&(N.title=t),(!Re||1&a&&D!==(D=e[0].title))&&i(T,"content",D),(!Re||1&a&&B!==(B=e[0].headline))&&i(V,"content",B),(!Re||1&a)&&ze!==(ze=e[0].title+"")&&_(O,ze),(!Re||1&a)&&Ge!==(Ge=e[0].headline+"")&&_(k,Ge),(!Re||1&a)&&qe!==(qe=e[0].html+"")&&(F.innerHTML=qe);const s={};2&a&&(s.posts=e[1]),1&a&&(s.currentPost=e[0]),ae.$set(s)},i(e){Re||(b(ee.$$.fragment,e),b(ae.$$.fragment,e),Re=!0)},o(e){y(ee.$$.fragment,e),y(ae.$$.fragment,e),Re=!1},d(e){o(a),o(h),o(p),o(T),o(I),o(V),o($),e&&o(M),e&&o(j),e&&o(R),e&&o(z),e&&o(W),e&&o(X),e&&o(Z),e&&o(F),e&&o(K),e&&o(Q),e&&o(Y),x(ee,e),e&&o(te),x(ae,e),e&&o(se),e&&o(ne)}}}async function $({params:e,query:t}){const a=await this.fetch(`blog/${e.slug}.json`),s=await a.json(),n=await this.fetch("blog.json").then(e=>e.json()).then(e=>(e.sort((e,t)=>Date.parse(e.sortdate)>Date.parse(t.sortdate)?1:Date.parse(t.sortdate)>Date.parse(e.sortdate)?-1:0).reverse(),{posts:e}));if(200===a.status)return{post:s,posts:n};this.error(a.status,s.message)}function M(e,t,a){let{post:s}=t,{posts:n}=t,r=new Date(s.originaldate),l=new Date(s.sortdate),o=r.toDateString(),c="https://joshglasson.co.uk/blog/"+encodeURI(s.slug),i="https://joshglasson.co.uk"+encodeURI(s.image.substring(1));return p(async()=>{let e=(await import("./jquery.d4c3722b.js").then((function(e){return e.j}))).default;let t=(await import("./index.be1cfbce.js").then((function(e){return e.i}))).default;if(async function(){var a=await async function(){for(var t=e(s.html),a="",n=0;n<t.length;n++)"codeSnippet"!==t[n].id&&(a+=t[n].textContent);return a}();const n=t(a);var r=document.getElementsByClassName("readTime")[0],l=document.createElement("h3"),o=document.createElement("i");o.textContent=n.text+" ("+n.words+" words)",l.appendChild(o),r.appendChild(l)}(),r.getTime()!=l.getTime()){var a=document.getElementsByClassName("date")[0],n=document.createElement("h3"),o=document.createElement("i");o.textContent="Updated on "+l.toDateString(),n.appendChild(o),a.appendChild(n)}for(var c=document.getElementsByTagName("code"),i=0;i<c.length;i++){c[i].style.whiteSpace="pre-wrap"}var d=document.body;function h(){return"false"===localStorage.getItem("dark_mode_toggle")?"light":"dark"}function p(e){!function(){var e=document.getElementsByClassName("twitter-tweet twitter-tweet-rendered");for(;e.length>0;)e[0].parentNode.removeChild(e[0])}();for(var t=document.getElementsByClassName("tweetToEmbed"),a=0;a<t.length;a++){var s=t[a],n=s.parentElement;window.twttr.widgets.createTweet(s.innerText,n,{align:"center",theme:e,dnt:"true"})}}new MutationObserver((function(e,t){e.forEach(e=>{"class"===e.attributeName&&p(h())})})).observe(d,{attributes:!0}),p(h());var m,u=document.getElementsByTagName("IMG"),f=[],g=[],v=document.querySelectorAll(".pswp")[0];async function w(e){var t={index:e,galleryUID:s.slug,shareButtons:[{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],maxSpreadZoom:3};await async function(e,t,a,s){m=new PhotoSwipe(e,t,a,s)}(v,PhotoSwipeUI_Default,f,t),m.listen("close",(function(){navbar.style.zIndex=9999}))}function E(){m.init(),navbar.style.zIndex=0}!async function(){if(await async function(){for(var e=0;e<u.length;e++)if(!u[e].className.includes("modal-content")&&!u[e].className.includes("signature-image")&&!u[e].className.includes("Thumbnail")){var t=u[e];if(g.indexOf(t.src)<0){var a={src:t.src,title:t.alt,w:t.width,h:t.height};f.push(a),g.push(t.src)}u[e].addEventListener("click",(async function(e){e.preventDefault();var t=g.indexOf(this.src);await w(t),E()}))}}(),""!=window.location.hash){var e=(t="pid",(a=location.hash.match(new RegExp(t+"=(d+)")))?a[1]:null);await w(e),E()}var t,a}()}),e.$set=e=>{"post"in e&&a(0,s=e.post),"posts"in e&&a(1,n=e.posts)},[s,n,o,c,i]}export default class extends e{constructor(e){super(),t(this,e,M,B,a,{post:0,posts:1})}}export{$ as preload};
