import{S as e,i as t,s,e as a,a as l,t as r,b as n,f as o,d as c,c as i,g as h,h as f,j as d,k as v,l as g,m as p,q as u,n as m,o as E,p as b,r as x}from"./client.f696673b.js";const{document:y}=x;function P(e,t,s){const a=e.slice();return a[6]=t[s],a}function C(e){let t,s,p,u,m,E,b,x,y,P,C,T,k,L,I,F,B=e[6].title+"",N=e[6].headline+"";return{c(){t=a("div"),s=a("div"),p=a("a"),u=a("img"),b=l(),x=a("div"),y=a("a"),P=a("h1"),C=r(B),k=l(),L=a("h2"),I=r(N),F=l(),this.h()},l(e){t=n(e,"DIV",{class:!0});var a=o(t);s=n(a,"DIV",{id:!0,class:!0});var l=o(s);p=n(l,"A",{href:!0});var r=o(p);u=n(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(c),l.forEach(c),b=i(a),x=n(a,"DIV",{id:!0,class:!0});var f=o(x);y=n(f,"A",{rel:!0,href:!0});var d=o(y);P=n(d,"H1",{class:!0});var v=o(P);C=h(v,B),v.forEach(c),d.forEach(c),k=i(f),L=n(f,"H2",{class:!0});var g=o(L);I=h(g,N),g.forEach(c),f.forEach(c),F=i(a),a.forEach(c),this.h()},h(){u.src!==(m=e[6].image)&&f(u,"src",m),f(u,"alt","Thumbnail"),f(u,"class","svelte-fn1vp3"),f(p,"href",E="blog/"+e[6].slug),f(s,"id","thumb"),f(s,"class","svelte-fn1vp3"),f(P,"class","svelte-fn1vp3"),f(y,"rel","prefetch"),f(y,"href",T="blog/"+e[6].slug),f(L,"class","svelte-fn1vp3"),f(x,"id","text"),f(x,"class","svelte-fn1vp3"),f(t,"class","svelte-fn1vp3")},m(e,a){d(e,t,a),v(t,s),v(s,p),v(p,u),v(t,b),v(t,x),v(x,y),v(y,P),v(P,C),v(x,k),v(x,L),v(L,I),v(t,F)},p(e,t){1&t&&u.src!==(m=e[6].image)&&f(u,"src",m),1&t&&E!==(E="blog/"+e[6].slug)&&f(p,"href",E),1&t&&B!==(B=e[6].title+"")&&g(C,B),1&t&&T!==(T="blog/"+e[6].slug)&&f(y,"href",T),1&t&&N!==(N=e[6].headline+"")&&g(I,N)},d(e){e&&c(t)}}}function T(e){let t,s,g,b,x,T,k,L,I,F,B,N,H,V,w,D,O,U,j,A,R=e[0],M=[];for(let t=0;t<R.length;t+=1)M[t]=C(P(e,R,t));return{c(){t=l(),s=a("div"),g=a("h1"),b=r("Recent posts"),x=l(),T=a("form"),k=a("input"),L=l(),I=a("input"),F=l(),B=a("label"),N=r("advanced search"),H=l(),V=a("button"),w=r("View Posts by Tags"),D=l(),O=a("div"),U=a("form"),j=l();for(let e=0;e<M.length;e+=1)M[e].c();A=p(),this.h()},l(e){u('[data-svelte="svelte-hfp9t8"]',y.head).forEach(c),t=i(e),s=n(e,"DIV",{class:!0});var a=o(s);g=n(a,"H1",{id:!0});var l=o(g);b=h(l,"Recent posts"),l.forEach(c),x=i(a),T=n(a,"FORM",{id:!0});var r=o(T);k=n(r,"INPUT",{type:!0,placeholder:!0}),L=i(r),I=n(r,"INPUT",{type:!0,name:!0,id:!0,value:!0}),F=i(r),B=n(r,"LABEL",{for:!0});var f=o(B);N=h(f,"advanced search"),f.forEach(c),r.forEach(c),H=i(a),V=n(a,"BUTTON",{class:!0});var d=o(V);w=h(d,"View Posts by Tags"),d.forEach(c),D=i(a),O=n(a,"DIV",{class:!0});var v=o(O);U=n(v,"FORM",{id:!0}),o(U).forEach(c),v.forEach(c),a.forEach(c),j=i(e);for(let t=0;t<M.length;t+=1)M[t].l(e);A=p(),this.h()},h(){y.title="Blog",f(g,"id","pageTitle"),f(k,"type","text"),f(k,"placeholder","Search Posts"),f(I,"type","checkbox"),f(I,"name","checkbox"),f(I,"id","checkbox_id"),I.value="value",f(B,"for","checkbox_id"),f(T,"id","search"),f(V,"class","collapsible svelte-fn1vp3"),f(U,"id","filter-form"),f(O,"class","filters svelte-fn1vp3"),f(s,"class","top svelte-fn1vp3")},m(e,a){d(e,t,a),d(e,s,a),v(s,g),v(g,b),v(s,x),v(s,T),v(T,k),v(T,L),v(T,I),v(T,F),v(T,B),v(B,N),v(s,H),v(s,V),v(V,w),v(s,D),v(s,O),v(O,U),d(e,j,a);for(let t=0;t<M.length;t+=1)M[t].m(e,a);d(e,A,a)},p(e,[t]){if(1&t){let s;for(R=e[0],s=0;s<R.length;s+=1){const a=P(e,R,s);M[s]?M[s].p(a,t):(M[s]=C(a),M[s].c(),M[s].m(A.parentNode,A))}for(;s<M.length;s+=1)M[s].d(1);M.length=R.length}},i:m,o:m,d(e){e&&c(t),e&&c(s),e&&c(j),E(M,e),e&&c(A)}}}function k({params:e,query:t}){return this.fetch("blog.json").then(e=>e.json()).then(e=>(e.sort().reverse(),{posts:e}))}function L(e,t,s){let{posts:a}=t,{filteredPosts:l=a}=t,{tagFilteredPosts:r}=t,{tags:n=[]}=t,{tagsToFilter:o=[]}=t;return b(()=>{var e=document.getElementById("search");function t(){if(s(1,r=a),o.length>0){s(1,r=[]);for(var t=0;t<a.length;t++){var n=a[t];n.tags.filter((function(e){return-1!=o.indexOf(e)})).length>0&&r.push(n)}}s(0,l=r),function(){if(""!==e[0].value){s(0,l=[]);for(var t=0;t<r.length;t++){var a=r[t],n=e[0].value.toLowerCase();e[1].checked?(a.title.toLowerCase().includes(n)||a.headline.toLowerCase().includes(n))&&l.push(a):a.title.toLowerCase().includes(n)&&l.push(a)}}}()}e[0].value="",e[1].checked=!1,e.addEventListener("input",(function(e){t()})),e.onkeypress=function(e){13==(e.charCode||e.keyCode||0)&&e.preventDefault()};var c=document.getElementById("filter-form");!function(){!function(){for(var e=0;e<a.length;e++)s(2,n=n.concat(a[e].tags.filter(e=>n.indexOf(e)<0)));s(2,n=n.sort())}();for(var e=0;e<n.length;e++){var l=document.createElement("INPUT"),r=document.createElement("LABEL"),i=n[e],h=i[0].toUpperCase()+i.slice(1);l.type="checkbox",l.id=i,l.className="filter-input",r.for=i,r.textContent=h,c.appendChild(l),c.appendChild(r),c.appendChild(document.createElement("br"))}!function(){for(var e=document.getElementsByClassName("filter-input"),s=0;s<e.length;s++){e[s].addEventListener("change",(function(e){if(this.checked)o.push(e.target.id),t();else{const s=o.indexOf(e.target.id);s>-1&&o.splice(s,1),t()}}))}}()}();for(var i=document.getElementsByClassName("collapsible"),h=0;h<i.length;h++)i[h].addEventListener("click",(function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}))}),e.$set=e=>{"posts"in e&&s(3,a=e.posts),"filteredPosts"in e&&s(0,l=e.filteredPosts),"tagFilteredPosts"in e&&s(1,r=e.tagFilteredPosts),"tags"in e&&s(2,n=e.tags),"tagsToFilter"in e&&s(4,o=e.tagsToFilter)},[l,r,n,a,o]}export default class extends e{constructor(e){super(),t(this,e,L,T,s,{posts:3,filteredPosts:0,tagFilteredPosts:1,tags:2,tagsToFilter:4})}}export{k as preload};
