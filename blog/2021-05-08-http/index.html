<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <script src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js async data-ad-client=ca-pub-1501125542619304></script> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=client/main.874424390.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>HTTP.</title><script src="https://www.googletagmanager.com/gtag/js?id=G-TJ8JZX38E6" data-svelte=svelte-o89ntb async></script><script data-svelte=svelte-o89ntb>window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-TJ8JZX38E6'); </script><script src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js data-svelte=svelte-o89ntb async data-ad-client=ca-pub-1501125542619304></script><script src=https://platform.twitter.com/widgets.js data-svelte=svelte-o89ntb id=twitter-wjs></script><link href=./photoswipe/photoswipe.css rel=stylesheet data-svelte=svelte-o89ntb><link href=./photoswipe/default-skin/default-skin.css rel=stylesheet data-svelte=svelte-o89ntb><link href=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css rel=stylesheet data-svelte=svelte-o89ntb><script src=./photoswipe/photoswipe.min.js data-svelte=svelte-o89ntb></script><script src=./photoswipe/photoswipe-ui-default.min.js data-svelte=svelte-o89ntb></script><meta content=summary data-svelte=svelte-btz695 name=twitter:card><meta content=@joshglasson data-svelte=svelte-btz695 name=twitter:site><meta content=@joshglasson data-svelte=svelte-btz695 name=twitter:creator><meta content=HTTP. data-svelte=svelte-btz695 property=og:title><meta content=https://joshglasson.co.uk/images/icons/http.png data-svelte=svelte-btz695 property=og:image><meta content="Basics of Network Connections" data-svelte=svelte-btz695 property=og:description><meta content=https://joshglasson.co.uk/blog/2021-05-08-http data-svelte=svelte-btz695 property=og:url><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> blog; <nav class=svelte-gj03cv id=navbar><ul class=svelte-gj03cv><li class=svelte-gj03cv><a href=/ class=svelte-gj03cv>home</a></li> <li class=svelte-gj03cv><a href=about class=svelte-gj03cv>about</a></li> <li class=svelte-gj03cv><a href=blog class=svelte-gj03cv aria-current=blog rel=prefetch>blog</a></li> <li class=svelte-gj03cv><a class=svelte-gj03cv>dark mode</a></ul></nav> <main class=svelte-u6q2x9> <div class="svelte-p34v7a postTitle"><h1 class=svelte-p34v7a>HTTP.</h1> <h2 class=svelte-p34v7a><strong>Basics of Network Connections</strong></h2></div> <div class=postImage><img alt=HTTP. src=./images/icons/http.png width=100%></div> <div class="svelte-p34v7a date"><h3><i>Originally posted on Wed May 12 2021</i></h3></div> <div class="svelte-p34v7a readTime"></div> <div class="svelte-p34v7a content"><p>I've talked a little about HTTP and how it works <a href=https://joshlearningto.code.blog/2020/01/03/http-pipelining-and-multiplexing/ target=_blank>here</a>, but I don't think I ever really covered the basics of requests over HTTP.</p> <br> <h2 style=font-size:2em>IP/TCP & HTTP</h2> <p>Requests over the internet generally will use HTTP, it is the standard for web communication. Let's start with how the HTTP requests and responses are sent between a client and a server. </p> <p>A connection between client and server is layered. IP finds the server, TCP opens a bridge between the client and server, then information is exchanged via HTTP.</p> <div id=imageDiv> <figure> <img alt="IP/TCP & HTTP" src=https://joshlearningtocode.files.wordpress.com/2021/05/ip_tcp_http.png> <figcaption>IP/TCP & HTTP</figcaption> </figure> </div> <p><strong style=font-size:1.3em>IP</strong> is the first layer. IP (<em><strong>Internet Protocol</strong></em>) specifies how datagrams (packets of data) are sent between hosts (client and server in this case). Each packet contains the IP Address of the source host and destination host. IP is responsible for routing the packet from the source to the destination, as the packet travels through the network, any node it reaches checks the destination IP address and sends it on its way. IP only ensures that a single packet reaches it's destination.</p> <p><strong style=font-size:1.3em>TCP</strong> is the next layer on top of IP. IP only uses best effort to get a packet to its destination. That means that packets may reach the destination in a different order than the one in which they were sent, reach the destination multiple times, or never reach the destination at all. TCP (<em><strong>Transmission Control Protocol</strong></em>) sits on top of IP, and provides a reliable, ordered, error-checked delivery of the packets. TCP connections allow data to flow in both directions.</p> <p><strong style=font-size:1.3em>HTTP</strong> is the final layer. It uses TCP to connect the client and server, and then requests and responses can be sent back and forward. </p> <br> <h2 style=font-size:2em>HTTP Requests</h2> <p>To explain HTTP a little more in depth, lets start with a basic example, visiting a website in your web browser.</p> <p>You open up your browser of choice, the client, and you put <strong><a href=https://joshglasson.co.uk>https://joshglasson.co.uk</a></strong> into the URL bar at the top. <em><strong>Once you press enter</strong></em>, the first thing that happens is your browser extracts the <code>https</code> to decide the protocol it should use to attempt to make a connection. My previous blog post mentioned in detail how encryption over HTTPS works, and I don't want to go into that level of detail at the moment, so please check out <a href=blog/2021-02-02-system_design_interview_pt3 target=_blank>this blog</a> if you want to read more on that.</p> <p>Running <code>curl -v 'https://joshglasson.co.uk</code> will show me the below.</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>> GET / HTTP/2 
> Host: joshglasson.co.uk</code></pre></div> <p>As a side note to this, if I tried instead <code>curl -v 'http://joshglasson.co.uk</code>, using http instead of https, I would see the below:</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>> GET / HTTP/1.1
> Host: joshglasson.co.uk

&lt; HTTP/1.1 301 Moved Permanently

Redirecting to https://joshglasson.co.uk/</code></pre></div> <p>Because my website doesn't support http (as it is old, outdated, and insecure), if you try to connect to it via http, you will receive an error and be redirected to the https version.</p> <p>So now that the browser knows how it should be communicating, it can figure out where it needs to send request. In the url, the user has put <code>joshglasson.co.uk</code>, but computers don't work using the human readable url that we enter. Instead, they use IP addresses. The browser will ask a DNS server (there are a few options, such as Cloud Flare and Google) what the IP address is for the domain name <code>joshglasson.co.uk</code>, and if that domain is registered, it will respond with the correct IP address. Again this is covered in more detail <a href=https://joshlearningto.code.blog/2020/08/04/distributed-system-design/ target=_blank>here</a>, including more info on IP addresses.</p> <p>Now that the browser has the IP address, it is able to open the TCP connection to it. There is some handshaking that needs to be done, especially with https, more detail on that can be found <a href=blog/2021-02-02-system_design_interview_pt3 target=_blank>here</a>. Once the TCP connection is open, the browser can start sending requests. Lets have a look at the request:</p> <br> <h2 style=font-size:2em>The request line</h2> <div id=codeSnippet> <pre class=language-javascriptreact><code>> GET / HTTP/2 </code></pre></div> <p>This is showing that the request that is being sent is a GET request, and that we are using HTTP 2. I will cover the different request methods later on. This is the Request line, the main part of the request.</p> <h2 style=font-size:2em>The request header</h2> <p>Along with the request you can send request headers. Most are optional, except <code>Host</code> (and <code>Connection</code> prior to HTTP 2):</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>> Host: joshglasson.co.uk</code></pre></div> <p>Headers allow for additional information to be sent, for example if you are accessing sensitive data you may need an authorisation token, which would be passed in the <code>Authorization</code> header.</p> <br> <h2 style=font-size:2em>The request body</h2> <p>We are looking at a GET request at the moment, which does not include a request body. I will cover the request body when I come to looking at the other HTTP methods.</p> <br> <h2 style=font-size:2em>The response</h2> <div id=codeSnippet> <pre class=language-javascriptreact><code>&lt; HTTP/2 200</code></pre></div> <p>As I was able to successfully connect to the server and my request was valid, I received the above response. <code>200</code> represents <strong>OK</strong>, meaning that the server sent the response, and nothing else. Different response codes will show you other states, such as <code>201</code> which means that a resource has been created on the server based on the request sent.</p> <p>This response should then contain all of the code for the website, which the browser will then parse into what you see.</p> <br> <h1 style=font-size:3em>HTTP Methods <h2 style=font-size:2em>GET</h2> <p>The GET method requests a representation of the specified resource. Requests using GET should only retrieve data.</p> <h2 style=font-size:2em>HEAD</h2> <p>The HEAD method asks for a response identical to that of a GET request, but without the response body.</p> <h2 style=font-size:2em>POST</h2> <p>The POST method is used to submit an entity to the specified resource, often causing a change in state or side effects on the server.</p> <h2 style=font-size:2em>PUT</h2> <p>The PUT method replaces all current representations of the target resource with the request payload.</p> <h2 style=font-size:2em>DELETE</h2> <p>The DELETE method deletes the specified resource.</p> <h2 style=font-size:2em>CONNECT</h2> <p>The CONNECT method establishes a tunnel to the server identified by the target resource.</p> <h2 style=font-size:2em>OPTIONS</h2> <p>The OPTIONS method is used to describe the communication options for the target resource.</p> <h2 style=font-size:2em>TRACE</h2> <p>The TRACE method performs a message loop-back test along the path to the target resource.</p> <h2 style=font-size:2em>PATCH</h2> <p>The PATCH method is used to apply partial modifications to a resource. </p> <br> <h1 style=font-size:3em>REST</h1> <p>I talked about REST in <a href=blog/2021-01-19-system_design_interview_pt2 target=_blank>another post</a>, but I wanted to add a little more around REST standards.</p> <p>When a client request is made via a RESTful API, it transfers a representation of the state of the resource to the requester or endpoint. Headers are also very important in RESTful APIs as they contain information that is useful to the server.</p> <p>For an API to be RESTful, it has to conform to these criteria:</p> <ol> <li><strong>Client–server</strong> – By separating the user interface concerns from the data storage concerns, we improve the portability of the user interface across multiple platforms and improve scalability by simplifying the server components.</li> <li><strong>Stateless</strong> – Each request from client to server must contain all of the information necessary to understand the request, and cannot take advantage of any stored context on the server. Session state is therefore kept entirely on the client.</li> <li><strong>Cacheable</strong> – Cache constraints require that the data within a response to a request be implicitly or explicitly labeled as cacheable or non-cacheable. If a response is cacheable, then a client cache is given the right to reuse that response data for later, equivalent requests.</li> <li><strong>Uniform interface</strong> – By applying the software engineering principle of generality to the component interface, the overall system architecture is simplified and the visibility of interactions is improved. In order to obtain a uniform interface, multiple architectural constraints are needed to guide the behavior of components. REST is defined by four interface constraints: identification of resources; manipulation of resources through representations; self-descriptive messages; and, hypermedia as the engine of application state.</li> <li><strong>Layered system</strong> – The layered system style allows an architecture to be composed of hierarchical layers by constraining component behavior such that each component cannot “see” beyond the immediate layer with which they are interacting.</li> <li><strong>Code on demand (optional)</strong> – REST allows client functionality to be extended by downloading and executing code in the form of applets or scripts. This simplifies clients by reducing the number of features required to be pre-implemented. </li> </ol> <p>Source: <a href=https://restfulapi.net/ target=_blank>https://restfulapi.net/</a>.</p> <br> <h2 style=font-size:2em>Naming Conventions</h2> <p>REST APIs use URIs to address resources. When naming the API, a RESTful URI should refer to a resource that is a thing (noun) instead of referring to an action (verb) because nouns have properties which verbs do not have – similar to resources have attributes. </p> <p>Lets pretend we have a Spotify like music service, Notify, that we are trying to design an API for. The first part of the URI is the DNS name:</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>http://api.notify.com</code></pre></div> <p>The API needs to be able to manage users, and the playlists on their accounts. So we could have:</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>http://api.notify.com/user-management
http://api.notify.com/song-management</code></pre></div> <p>If we wanted to get a list users, or one specific user, the URI would look like the below:</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>GET http://api.notify.com/user-management/users
GET http://api.notify.com/user-management/users/{userId}</code></pre></div> <p><code>userId</code> in the above example referring to a users id that would be passed in with the request to the API.</p> <p>Similarly we could have endpoints for viewing all playlists, or a specific playlist for a user:</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>GET http://api.notify.com/song-management/users/{userId}/playlists
GET http://api.notify.com/song-management/users/{userId}/playlists/{playlistId}</code></pre></div> <p>We may also have an API for the user to control the player:</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>GET http://api.notify.com/song-management/users/{userId}/playlists/{playlistId}/play</code></pre></div> <p>Some more conventions for naming are:</p> <ul> <li>Use / to indicate a hierarchical relationship</li> <li>No trailing /'s</li> <li>Use hyphens between words to improve readability</li> <li>Use hyphens and not underscores</li> <li>Use lowercase letters</li> <li>Do not use file extensions</li> </ul> <p>CRUD expressions should never be used in names either. The CRUD function should be defined by the HTTP method as in the below example:</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>// WRONG
GET http://api.notify.com/song-management/users/{userId}/playlists/{playlistId}/add?song=songId1,songId2

// RIGHT
PUT http://api.notify.com/song-management/users/{userId}/playlists/{playlistId}
Request Body:
{
    songs: [
        songId1,
        songId2
    ]
}</code></pre></div> <p>This means you can use the same endpoint to do multiple operations depending on the HTTP method:</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>// ADD
PUT http://api.notify.com/song-management/users/{userId}/playlists/{playlistId}/{songId}
// REMOVE
DELETE http://api.notify.com/song-management/users/{userId}/playlists/{playlistId}/{songId}</code></pre></div> <p>You can also use query parameters to filter:</p> <div id=codeSnippet> <pre class=language-javascriptreact><code>http://api.notify.com/user-management/users?region=USA</code></pre></div> <br> <h1 style=font-size:3em>API Call Flow</h1> <p>Here is an example of how an API call using HTTP may look:</p> <div id=imageDiv> <figure> <img alt="API Call Flow" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_flow-1.gif> <figcaption>API Call Flow</figcaption> </figure> </div> <p>Let's go through it step by step to see what is going on.</p> <p>Firstly, we have our client, where the request is being made. This could be your web browser, or an app on your phone.</p> <div id=imageDiv> <figure> <img alt="The Client" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_1.png> <figcaption>The Client</figcaption> </figure> </div> <p>The client then makes a request to an api. The request in this case is a simple GET call to the api <code>https://api.com/endpoint</code>. The request is made using HTTP.</p> <div id=imageDiv> <figure> <img alt="The Client Makes a Request" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_2.png> <figcaption>The Client Makes a Request</figcaption> </figure> </div> <p>The client needs to turn the Domain Name (api.com) into an IP address, so it send the Domain Name to a DNS Resolver.</p> <div id=imageDiv> <figure> <img alt="Resolve Domain Name" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_3.png> <figcaption>Resolve Domain Name</figcaption> </figure> </div> <p>The DNS Resolver returns an IP Address to the client, so it knows where to send the request.</p> <div id=imageDiv> <figure> <img alt="IP Address Returned" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_4.png> <figcaption>IP Address Returned</figcaption> </figure> </div> <p>The request is sent using IP/TCP to make the network connection. The IP Address leads to an API Gateway, which is an API Management tool that sits between the client and the backend. The API Gateway allows you to have a single entry point for all incoming requests, and monitor and rate limit incoming requests. You can also do authentication and validation here if you want.</p> <div id=imageDiv> <figure> <img alt="Request Sent to IP Address" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_5.png> <figcaption>Request Sent to IP Address</figcaption> </figure> </div> <p>After passing through the API Gateway, the request then reaches a load balancer. The load balancer sits in front of the cloud application. Assuming your application has multiple servers/instances, the load balancer will decide which one to send the request to. This could be based on the current load of each server, a round robin approach, or a number of other algorithms.</p> <div id=imageDiv> <figure> <img alt="Request Goes to Load Balancer" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_6.png> <figcaption>Request Goes to Load Balancer</figcaption> </figure> </div> <p>The load balancer sends the request onto one of the servers. The server receives the message and it is sent on to the backend application that is running on the server.</p> <div id=imageDiv> <figure> <img alt="Request Goes to the Server" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_7.png> <figcaption>Request Goes to the Server</figcaption> </figure> </div> <p>The application may have some authentication it wants to do based on who can access the endpoint. If the authentication is successful, then the application can process the request.</p> <div id=imageDiv> <figure> <img alt="Application Does Authentication" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_8.png> <figcaption>Application Does Authentication</figcaption> </figure> </div> <p>The response is then sent back over IP/TCP, first going through the API Gateway. Again this allows you to do logging, and perhaps some validation if you want.</p> <div id=imageDiv> <figure> <img alt="Application Sends Response" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_9.png> <figcaption>Application Sends Response</figcaption> </figure> </div> <p>The response then reaches the client, who processes it and shows it to the user.</p> <div id=imageDiv> <figure> <img alt="Client Receives Response" src=https://joshlearningtocode.files.wordpress.com/2021/05/api_call_http_flow_10.png> <figcaption>Client Receives Response</figcaption> </figure> </div> <br> <h1 style=font-size:3em>HTTP Status Codes</h1> <p>HTTP response status codes indicate if a request has been successful. There are 5 classes of response:</p> <ol> <li><strong style=font-size:1.3em>1xx</strong> - <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#information_responses target=_blank>Informational Responses</a> (100 - 199).</li> <li><strong style=font-size:1.3em>2xx</strong> - <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#successful_responses target=_blank>Successful Responses</a> (200 - 299).</li> <li><strong style=font-size:1.3em>3xx</strong> - <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages target=_blank>Redirects</a> (300 - 399).</li> <li><strong style=font-size:1.3em>4xx</strong> - <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses target=_blank>Client Errors</a> (400 - 499).</li> <li><strong style=font-size:1.3em>5xx</strong> - <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#server_error_responses target=_blank>Server Errors</a> (500 - 599).</li> </ol> <p>See <a href=https://www.restapitutorial.com/httpstatuscodes.html target=_blank>this website</a> (or <a href=https://http.cat/ target=_blank>my preference</a>) for a full list of HTTP Status Codes.</p> <p>The main ones however are:</p> <h2 style=font-size:2em>2xx - Success</h2> <h2 style=font-size:1.5em>200 - OK</h2> <p>The request has succeeded. The information returned with the response is dependent on the method used in the request.</p> <h2 style=font-size:1.5em>201 - Created</h2> <p>The request has been fulfilled and resulted in a new resource being created. There may or may not be information returned.</p> <h2 style=font-size:1.5em>204 - No Content</h2> <p>The server successfully processed the request, but is not returning any content.</p> <h2 style=font-size:2em>4xx - Client Error</h2> <h2 style=font-size:1.5em>400 - Bad Request</h2> <p>The request cannot be fulfilled due to bad syntax. General error when fulfilling the request would cause an invalid state. Domain validation errors, missing data, etc. are some examples.</p> <h2 style=font-size:1.5em>401 - Unauthorized</h2> <p>The request requires user authentication via a header. 401 is used when the request is missing or has an invalid authentication token.</p> <h2 style=font-size:1.5em>403 - Forbidden</h2> <p>The server understood the request, but is refusing to fulfill it. 403 is used when the user has passed something valid n the header, but they are not authorised to perform the operation.</p> <h2 style=font-size:1.5em>404 - Not Found</h2> <p>The server has not found anything matching the request.</p> <h2 style=font-size:1.5em>409 - Conflict</h2> <p>The request could not be completed due to a conflict with the current state of the resource. The response should contain information on the details of the conflict and how they could resolve it.</p> <h2 style=font-size:1.5em><a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/418 target=_blank>418 - I'm a teapot</a></h2> <div id=imageDiv> <figure> <img alt="Google 418 Teapot" src=https://joshlearningtocode.files.wordpress.com/2021/05/google-teapot.gif> <figcaption>Google 418 Teapot</figcaption> <figcaption>Source: <a href=https://www.google.com/teapot target=_blank>https://www.google.com/teapot</a></figcaption> </figure> </div> <h2 style=font-size:2em>5xx - Server Error</h2> <h2 style=font-size:1.5em>500 - Internal Server Error</h2> <p>The server encountered an unexpected condition which prevented it from fulfilling the request. The general catch-all error when the server-side throws an exception.</p> <h2 style=font-size:1.5em>503 - Service Unavailable</h2> <p>The server is currently unable to handle the request. May indicate a problem with a downstream system.</p> </h1></div> <br> <div class=svelte-b7hd5f><a href=about><img alt=Me src="./images/about/Small Profile Pic.jpg" class="svelte-b7hd5f signature-image"></a> <h3 class=svelte-b7hd5f>Post by</h3> <a href=about><h1 class=svelte-b7hd5f>Josh Glasson</h1></a> <h3 class=svelte-b7hd5f>Software Developer. Creator and owner of this blog.</h3></div> <div id=recentPosts></div> <div id=relatedPosts></div> <div class=pswp aria-hidden=true role=dialog tabindex=-1> <div class=pswp__bg></div> <div class=pswp__scroll-wrap> <div class=pswp__container><div class=pswp__item></div> <div class=pswp__item></div> <div class=pswp__item></div></div> <div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar> <div class=pswp__counter></div> <button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title=Share></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button> <div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div> <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button> <div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B){return {post:{html:"\u003Cp\u003EI&#39;ve talked a little about HTTP and how it works \u003Ca href=\"https:\u002F\u002Fjoshlearningto.code.blog\u002F2020\u002F01\u002F03\u002Fhttp-pipelining-and-multiplexing\u002F\" target=\"_blank\"\u003Ehere\u003C\u002Fa\u003E, but I don&#39;t think I ever really covered the basics of requests over HTTP.\u003C\u002Fp\u003E\n\u003Cbr\u003E\n\n\u003Ch2 style=\"font-size:2em;\"\u003EIP\u002FTCP & HTTP\u003C\u002Fh2\u003E\n\n\u003Cp\u003ERequests over the internet generally will use HTTP, it is the standard for web communication. Let&#39;s start with how the HTTP requests and responses are sent between a client and a server. \u003C\u002Fp\u003E\n\u003Cp\u003EA connection between client and server is layered. IP finds the server, TCP opens a bridge between the client and server, then information is exchanged via HTTP.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fip_tcp_http.png\" alt=\"IP\u002FTCP & HTTP\"\u002F\u003E\n    \u003Cfigcaption\u003EIP\u002FTCP & HTTP\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E\u003Cstrong style=\"font-size:1.3em;\"\u003EIP\u003C\u002Fstrong\u003E is the first layer. IP (\u003Cem\u003E\u003Cstrong\u003EInternet Protocol\u003C\u002Fstrong\u003E\u003C\u002Fem\u003E) specifies how datagrams (packets of data) are sent between hosts (client and server in this case). Each packet contains the IP Address of the source host and destination host. IP is responsible for routing the packet from the source to the destination, as the packet travels through the network, any node it reaches checks the destination IP address and sends it on its way. IP only ensures that a single packet reaches it&#39;s destination.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong style=\"font-size:1.3em;\"\u003ETCP\u003C\u002Fstrong\u003E is the next layer on top of IP. IP only uses best effort to get a packet to its destination. That means that packets may reach the destination in a different order than the one in which they were sent, reach the destination multiple times, or never reach the destination at all. TCP (\u003Cem\u003E\u003Cstrong\u003ETransmission Control Protocol\u003C\u002Fstrong\u003E\u003C\u002Fem\u003E) sits on top of IP, and provides a reliable, ordered, error-checked delivery of the packets. TCP connections allow data to flow in both directions.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong style=\"font-size:1.3em;\"\u003EHTTP\u003C\u002Fstrong\u003E is the final layer. It uses TCP to connect the client and server, and then requests and responses can be sent back and forward. \u003C\u002Fp\u003E\n\u003Cbr\u003E\n\n\u003Ch2 style=\"font-size:2em;\"\u003EHTTP Requests\u003C\u002Fh2\u003E\n\n\u003Cp\u003ETo explain HTTP a little more in depth, lets start with a basic example, visiting a website in your web browser.\u003C\u002Fp\u003E\n\u003Cp\u003EYou open up your browser of choice, the client, and you put \u003Cstrong\u003E\u003Ca href=\"https:\u002F\u002Fjoshglasson.co.uk\"\u003Ehttps:\u002F\u002Fjoshglasson.co.uk\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E into the URL bar at the top. \n\u003Cem\u003E\u003Cstrong\u003EOnce you press enter\u003C\u002Fstrong\u003E\u003C\u002Fem\u003E, the first thing that happens is your browser extracts the \u003Ccode\u003Ehttps\u003C\u002Fcode\u003E to decide the protocol it should use to attempt to make a connection. \nMy previous blog post mentioned in detail how encryption over HTTPS works, and I don&#39;t want to go into that level of detail at the moment, so please check out \u003Ca href=\"blog\u002F2021-02-02-system_design_interview_pt3\" target=\"_blank\"\u003Ethis blog\u003C\u002Fa\u003E if you want to read more on that.\u003C\u002Fp\u003E\n\u003Cp\u003ERunning \u003Ccode\u003Ecurl -v &#39;https:\u002F\u002Fjoshglasson.co.uk\u003C\u002Fcode\u003E will show me the below.\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E&gt; GET \u002F HTTP\u002F2 \n&gt; Host: joshglasson.co.uk\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EAs a side note to this, if I tried instead \u003Ccode\u003Ecurl -v &#39;http:\u002F\u002Fjoshglasson.co.uk\u003C\u002Fcode\u003E, using http instead of https, I would see the below:\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E&gt; GET \u002F HTTP\u002F1.1\n&gt; Host: joshglasson.co.uk\n\n&lt; HTTP\u002F1.1 301 Moved Permanently\n\nRedirecting to https:\u002F\u002Fjoshglasson.co.uk\u002F\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EBecause my website doesn&#39;t support http (as it is old, outdated, and insecure), if you try to connect to it via http, you will receive an error and be redirected to the https version.\u003C\u002Fp\u003E\n\u003Cp\u003ESo now that the browser knows how it should be communicating, it can figure out where it needs to send request. In the url, the user has put \u003Ccode\u003Ejoshglasson.co.uk\u003C\u002Fcode\u003E, but computers don&#39;t work using the human readable url that we enter. Instead, they use IP addresses. The browser will ask a DNS server (there are a few options, such as Cloud Flare and Google) what the IP address is for the domain name \u003Ccode\u003Ejoshglasson.co.uk\u003C\u002Fcode\u003E, and if that domain is registered, it will respond with the correct IP address. Again this is covered in more detail \u003Ca href=\"https:\u002F\u002Fjoshlearningto.code.blog\u002F2020\u002F08\u002F04\u002Fdistributed-system-design\u002F\" target=\"_blank\"\u003Ehere\u003C\u002Fa\u003E, including more info on IP addresses.\u003C\u002Fp\u003E\n\u003Cp\u003ENow that the browser has the IP address, it is able to open the TCP connection to it. There is some handshaking that needs to be done, especially with https, more detail on that can be found \u003Ca href=\"blog\u002F2021-02-02-system_design_interview_pt3\" target=\"_blank\"\u003Ehere\u003C\u002Fa\u003E.\nOnce the TCP connection is open, the browser can start sending requests. Lets have a look at the request:\u003C\u002Fp\u003E\n\u003Cbr\u003E\n\n\u003Ch2 style=\"font-size:2em;\"\u003EThe request line\u003C\u002Fh2\u003E\n\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E&gt; GET \u002F HTTP\u002F2 \u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThis is showing that the request that is being sent is a GET request, and that we are using HTTP 2. I will cover the different request methods later on. This is the Request line, the main part of the request.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003EThe request header\u003C\u002Fh2\u003E\n\n\u003Cp\u003EAlong with the request you can send request headers. Most are optional, except \u003Ccode\u003EHost\u003C\u002Fcode\u003E (and \u003Ccode\u003EConnection\u003C\u002Fcode\u003E prior to HTTP 2):\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E&gt; Host: joshglasson.co.uk\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EHeaders allow for additional information to be sent, for example if you are accessing sensitive data you may need an authorisation token, which would be passed in the \u003Ccode\u003EAuthorization\u003C\u002Fcode\u003E header.\u003C\u002Fp\u003E\n\u003Cbr\u003E\n\n\u003Ch2 style=\"font-size:2em;\"\u003EThe request body\u003C\u002Fh2\u003E\n\n\u003Cp\u003EWe are looking at a GET request at the moment, which does not include a request body. I will cover the request body when I come to looking at the other HTTP methods.\u003C\u002Fp\u003E\n\u003Cbr\u003E\n\n\u003Ch2 style=\"font-size:2em;\"\u003EThe response\u003C\u002Fh2\u003E\n\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E&lt; HTTP\u002F2 200\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EAs I was able to successfully connect to the server and my request was valid, I received the above response. \u003Ccode\u003E200\u003C\u002Fcode\u003E represents \u003Cstrong\u003EOK\u003C\u002Fstrong\u003E, meaning that the server sent the response, and nothing else. Different response codes will show you other states, such as \u003Ccode\u003E201\u003C\u002Fcode\u003E which means that a resource has been created on the server based on the request sent.\u003C\u002Fp\u003E\n\u003Cp\u003EThis response should then contain all of the code for the website, which the browser will then parse into what you see.\u003C\u002Fp\u003E\n\u003Cbr\u003E\n\n\u003Ch1 style=\"font-size:3em;\"\u003EHTTP Methods\u003C\u002Fh2\u003E\n\n\u003Ch2 style=\"font-size:2em;\"\u003EGET\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe GET method requests a representation of the specified resource. Requests using GET should only retrieve data.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003EHEAD\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe HEAD method asks for a response identical to that of a GET request, but without the response body.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003EPOST\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe POST method is used to submit an entity to the specified resource, often causing a change in state or side effects on the server.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003EPUT\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe PUT method replaces all current representations of the target resource with the request payload.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003EDELETE\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe DELETE method deletes the specified resource.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003ECONNECT\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe CONNECT method establishes a tunnel to the server identified by the target resource.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003EOPTIONS\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe OPTIONS method is used to describe the communication options for the target resource.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003ETRACE\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe TRACE method performs a message loop-back test along the path to the target resource.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003EPATCH\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe PATCH method is used to apply partial modifications to a resource. \u003C\u002Fp\u003E\n\u003Cbr\u003E\n\n\u003Ch1 style=\"font-size:3em;\"\u003EREST\u003C\u002Fh1\u003E\n\n\u003Cp\u003EI talked about REST in \u003Ca href=\"blog\u002F2021-01-19-system_design_interview_pt2\" target=\"_blank\"\u003Eanother post\u003C\u002Fa\u003E, but I wanted to add a little more around REST standards.\u003C\u002Fp\u003E\n\u003Cp\u003EWhen a client request is made via a RESTful API, it transfers a representation of the state of the resource to the requester or endpoint. Headers are also very important in RESTful APIs as they contain information that is useful to the server.\u003C\u002Fp\u003E\n\u003Cp\u003EFor an API to be RESTful, it has to conform to these criteria:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong\u003EClient–server\u003C\u002Fstrong\u003E – By separating the user interface concerns from the data storage concerns, we improve the portability of the user interface across multiple platforms and improve scalability by simplifying the server components.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003EStateless\u003C\u002Fstrong\u003E – Each request from client to server must contain all of the information necessary to understand the request, and cannot take advantage of any stored context on the server. Session state is therefore kept entirely on the client.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003ECacheable\u003C\u002Fstrong\u003E – Cache constraints require that the data within a response to a request be implicitly or explicitly labeled as cacheable or non-cacheable. If a response is cacheable, then a client cache is given the right to reuse that response data for later, equivalent requests.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003EUniform interface\u003C\u002Fstrong\u003E – By applying the software engineering principle of generality to the component interface, the overall system architecture is simplified and the visibility of interactions is improved. In order to obtain a uniform interface, multiple architectural constraints are needed to guide the behavior of components. REST is defined by four interface constraints: identification of resources; manipulation of resources through representations; self-descriptive messages; and, hypermedia as the engine of application state.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003ELayered system\u003C\u002Fstrong\u003E – The layered system style allows an architecture to be composed of hierarchical layers by constraining component behavior such that each component cannot “see” beyond the immediate layer with which they are interacting.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003ECode on demand (optional)\u003C\u002Fstrong\u003E – REST allows client functionality to be extended by downloading and executing code in the form of applets or scripts. This simplifies clients by reducing the number of features required to be pre-implemented. \u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003ESource: \u003Ca href=\"https:\u002F\u002Frestfulapi.net\u002F\" target=\"_blank\"\u003Ehttps:\u002F\u002Frestfulapi.net\u002F\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cbr\u003E\n\n\u003Ch2 style=\"font-size:2em;\"\u003ENaming Conventions\u003C\u002Fh2\u003E\n\n\u003Cp\u003EREST APIs use URIs to address resources. When naming the API, a RESTful URI should refer to a resource that is a thing (noun) instead of referring to an action (verb) because nouns have properties which verbs do not have – similar to resources have attributes. \u003C\u002Fp\u003E\n\u003Cp\u003ELets pretend we have a Spotify like music service, Notify, that we are trying to design an API for. The first part of the URI is the DNS name:\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003Ehttp:\u002F\u002Fapi.notify.com\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThe API needs to be able to manage users, and the playlists on their accounts. So we could have:\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003Ehttp:\u002F\u002Fapi.notify.com\u002Fuser-management\nhttp:\u002F\u002Fapi.notify.com\u002Fsong-management\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EIf we wanted to get a list users, or one specific user, the URI would look like the below:\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003EGET http:\u002F\u002Fapi.notify.com\u002Fuser-management\u002Fusers\nGET http:\u002F\u002Fapi.notify.com\u002Fuser-management\u002Fusers\u002F{userId}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E\u003Ccode\u003EuserId\u003C\u002Fcode\u003E in the above example referring to a users id that would be passed in with the request to the API.\u003C\u002Fp\u003E\n\u003Cp\u003ESimilarly we could have endpoints for viewing all playlists, or a specific playlist for a user:\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003EGET http:\u002F\u002Fapi.notify.com\u002Fsong-management\u002Fusers\u002F{userId}\u002Fplaylists\nGET http:\u002F\u002Fapi.notify.com\u002Fsong-management\u002Fusers\u002F{userId}\u002Fplaylists\u002F{playlistId}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EWe may also have an API for the user to control the player:\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003EGET http:\u002F\u002Fapi.notify.com\u002Fsong-management\u002Fusers\u002F{userId}\u002Fplaylists\u002F{playlistId}\u002Fplay\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003ESome more conventions for naming are:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUse \u002F to indicate a hierarchical relationship\u003C\u002Fli\u003E\n\u003Cli\u003ENo trailing \u002F&#39;s\u003C\u002Fli\u003E\n\u003Cli\u003EUse hyphens between words to improve readability\u003C\u002Fli\u003E\n\u003Cli\u003EUse hyphens and not underscores\u003C\u002Fli\u003E\n\u003Cli\u003EUse lowercase letters\u003C\u002Fli\u003E\n\u003Cli\u003EDo not use file extensions\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ECRUD expressions should never be used in names either. The CRUD function should be defined by the HTTP method as in the below example:\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E\u002F\u002F WRONG\nGET http:\u002F\u002Fapi.notify.com\u002Fsong-management\u002Fusers\u002F{userId}\u002Fplaylists\u002F{playlistId}\u002Fadd?song=songId1,songId2\n\n\u002F\u002F RIGHT\nPUT http:\u002F\u002Fapi.notify.com\u002Fsong-management\u002Fusers\u002F{userId}\u002Fplaylists\u002F{playlistId}\nRequest Body:\n{\n    songs: [\n        songId1,\n        songId2\n    ]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThis means you can use the same endpoint to do multiple operations depending on the HTTP method:\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E\u002F\u002F ADD\nPUT http:\u002F\u002Fapi.notify.com\u002Fsong-management\u002Fusers\u002F{userId}\u002Fplaylists\u002F{playlistId}\u002F{songId}\n\u002F\u002F REMOVE\nDELETE http:\u002F\u002Fapi.notify.com\u002Fsong-management\u002Fusers\u002F{userId}\u002Fplaylists\u002F{playlistId}\u002F{songId}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EYou can also use query parameters to filter:\u003C\u002Fp\u003E\n\u003Cdiv id=\"codeSnippet\"\u003E\n\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003Ehttp:\u002F\u002Fapi.notify.com\u002Fuser-management\u002Fusers?region=USA\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\n\u003Cbr\u003E\n\n\u003Ch1 style=\"font-size:3em;\"\u003EAPI Call Flow\u003C\u002Fh1\u003E\n\n\u003Cp\u003EHere is an example of how an API call using HTTP may look:\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_flow-1.gif\" alt=\"API Call Flow\"\u002F\u003E\n    \u003Cfigcaption\u003EAPI Call Flow\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003ELet&#39;s go through it step by step to see what is going on.\u003C\u002Fp\u003E\n\u003Cp\u003EFirstly, we have our client, where the request is being made. This could be your web browser, or an app on your phone.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_1.png\" alt=\"The Client\"\u002F\u003E\n    \u003Cfigcaption\u003EThe Client\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThe client then makes a request to an api. The request in this case is a simple GET call to the api \u003Ccode\u003Ehttps:\u002F\u002Fapi.com\u002Fendpoint\u003C\u002Fcode\u003E. The request is made using HTTP.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_2.png\" alt=\"The Client Makes a Request\"\u002F\u003E\n    \u003Cfigcaption\u003EThe Client Makes a Request\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThe client needs to turn the Domain Name (api.com) into an IP address, so it send the Domain Name to a DNS Resolver.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_3.png\" alt=\"Resolve Domain Name\"\u002F\u003E\n    \u003Cfigcaption\u003EResolve Domain Name\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThe DNS Resolver returns an IP Address to the client, so it knows where to send the request.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_4.png\" alt=\"IP Address Returned\"\u002F\u003E\n    \u003Cfigcaption\u003EIP Address Returned\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThe request is sent using IP\u002FTCP to make the network connection. The IP Address leads to an API Gateway, which is an API Management tool that sits between the client and the backend. The API Gateway allows you to have a single entry point for all incoming requests, and monitor and rate limit incoming requests. You can also do authentication and validation here if you want.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_5.png\" alt=\"Request Sent to IP Address\"\u002F\u003E\n    \u003Cfigcaption\u003ERequest Sent to IP Address\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EAfter passing through the API Gateway, the request then reaches a load balancer. The load balancer sits in front of the cloud application. Assuming your application has multiple servers\u002Finstances, the load balancer will decide which one to send the request to. This could be based on the current load of each server, a round robin approach, or a number of other algorithms.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_6.png\" alt=\"Request Goes to Load Balancer\"\u002F\u003E\n    \u003Cfigcaption\u003ERequest Goes to Load Balancer\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThe load balancer sends the request onto one of the servers. The server receives the message and it is sent on to the backend application that is running on the server.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_7.png\" alt=\"Request Goes to the Server\"\u002F\u003E\n    \u003Cfigcaption\u003ERequest Goes to the Server\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThe application may have some authentication it wants to do based on who can access the endpoint. If the authentication is successful, then the application can process the request.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_8.png\" alt=\"Application Does Authentication\"\u002F\u003E\n    \u003Cfigcaption\u003EApplication Does Authentication\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThe response is then sent back over IP\u002FTCP, first going through the API Gateway. Again this allows you to do logging, and perhaps some validation if you want.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_9.png\" alt=\"Application Sends Response\"\u002F\u003E\n    \u003Cfigcaption\u003EApplication Sends Response\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EThe response then reaches the client, who processes it and shows it to the user.\u003C\u002Fp\u003E\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fapi_call_http_flow_10.png\" alt=\"Client Receives Response\"\u002F\u003E\n    \u003Cfigcaption\u003EClient Receives Response\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cbr\u003E\n\n\u003Ch1 style=\"font-size:3em;\"\u003EHTTP Status Codes\u003C\u002Fh1\u003E\n\n\u003Cp\u003EHTTP response status codes indicate if a request has been successful. There are 5 classes of response:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong style=\"font-size:1.3em;\"\u003E1xx\u003C\u002Fstrong\u003E - \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FStatus#information_responses\" target=\"_blank\"\u003EInformational Responses\u003C\u002Fa\u003E (100 - 199).\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong style=\"font-size:1.3em;\"\u003E2xx\u003C\u002Fstrong\u003E - \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FStatus#successful_responses\" target=\"_blank\"\u003ESuccessful Responses\u003C\u002Fa\u003E (200 - 299).\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong style=\"font-size:1.3em;\"\u003E3xx\u003C\u002Fstrong\u003E - \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FStatus#redirection_messages\" target=\"_blank\"\u003ERedirects\u003C\u002Fa\u003E (300 - 399).\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong style=\"font-size:1.3em;\"\u003E4xx\u003C\u002Fstrong\u003E - \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FStatus#client_error_responses\" target=\"_blank\"\u003EClient Errors\u003C\u002Fa\u003E (400 - 499).\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong style=\"font-size:1.3em;\"\u003E5xx\u003C\u002Fstrong\u003E - \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FStatus#server_error_responses\" target=\"_blank\"\u003EServer Errors\u003C\u002Fa\u003E (500 - 599).\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003ESee \u003Ca href=\"https:\u002F\u002Fwww.restapitutorial.com\u002Fhttpstatuscodes.html\" target=\"_blank\"\u003Ethis website\u003C\u002Fa\u003E (or \u003Ca href=\"https:\u002F\u002Fhttp.cat\u002F\" target=\"_blank\"\u003Emy preference\u003C\u002Fa\u003E) for a full list of HTTP Status Codes.\u003C\u002Fp\u003E\n\u003Cp\u003EThe main ones however are:\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003E2xx - Success\u003C\u002Fh2\u003E\n\n\u003Ch2 style=\"font-size:1.5em;\"\u003E200 - OK\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe request has succeeded. The information returned with the response is dependent on the method used in the request.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:1.5em;\"\u003E201 - Created\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe request has been fulfilled and resulted in a new resource being created. There may or may not be information returned.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:1.5em;\"\u003E204 - No Content\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe server successfully processed the request, but is not returning any content.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:2em;\"\u003E4xx - Client Error\u003C\u002Fh2\u003E\n\n\u003Ch2 style=\"font-size:1.5em;\"\u003E400 - Bad Request\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe request cannot be fulfilled due to bad syntax. General error when fulfilling the request would cause an invalid state. Domain validation errors, missing data, etc. are some examples.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:1.5em;\"\u003E401 - Unauthorized\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe request requires user authentication via a header. 401 is used when the request is missing or has an invalid authentication token.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:1.5em;\"\u003E403 - Forbidden\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe server understood the request, but is refusing to fulfill it. 403 is used when the user has passed something valid n the header, but they are not authorised to perform the operation.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:1.5em;\"\u003E404 - Not Found\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe server has not found anything matching the request.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:1.5em;\"\u003E409 - Conflict\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe request could not be completed due to a conflict with the current state of the resource. The response should contain information on the details of the conflict and how they could resolve it.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:1.5em;\"\u003E\u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FStatus\u002F418\" target=\"_blank\"\u003E418 - I'm a teapot\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\n\u003Cdiv id=\"imageDiv\"\u003E\n  \u003Cfigure\u003E\n    \u003Cimg src=\"https:\u002F\u002Fjoshlearningtocode.files.wordpress.com\u002F2021\u002F05\u002Fgoogle-teapot.gif\" alt=\"Google 418 Teapot\"\u002F\u003E\n    \u003Cfigcaption\u003EGoogle 418 Teapot\u003C\u002Ffigcaption\u003E\n    \u003Cfigcaption\u003ESource: \u003Ca href=\"https:\u002F\u002Fwww.google.com\u002Fteapot\" target=\"_blank\"\u003Ehttps:\u002F\u002Fwww.google.com\u002Fteapot\u003C\u002Fa\u003E\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch2 style=\"font-size:2em;\"\u003E5xx - Server Error\u003C\u002Fh2\u003E\n\n\u003Ch2 style=\"font-size:1.5em;\"\u003E500 - Internal Server Error\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe server encountered an unexpected condition which prevented it from fulfilling the request. The general catch-all error when the server-side throws an exception.\u003C\u002Fp\u003E\n\u003Ch2 style=\"font-size:1.5em;\"\u003E503 - Service Unavailable\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThe server is currently unable to handle the request. May indicate a problem with a downstream system.\u003C\u002Fp\u003E\n",slug:f,title:g,headline:h,image:i,sortdate:d,originaldate:d,tags:[a]},posts:{posts:[{slug:"2021-05-26-kubernetes",title:"Kubernetes.",headline:"All about Kubernetes",image:".\u002Fimages\u002Ficons\u002Fkubernetes.png",sortdate:j,originaldate:j,tags:[a]},{slug:f,title:g,headline:h,image:i,sortdate:d,originaldate:d,tags:[a]},{slug:"2021-05-07-aws",title:"AWS.",headline:"Amazon Web Services",image:".\u002Fimages\u002Ficons\u002Faws.png",sortdate:k,originaldate:k,tags:[a]},{slug:"2021-02-02-system_design_interview_pt3",title:"System Design Part 3.",headline:"Even More Prep for the System Design Interview",image:l,sortdate:m,originaldate:m,tags:[a]},{slug:"2021-01-19-system_design_interview_pt2",title:"System Design Part 2.",headline:"More Prep for the System Design Interview",image:l,sortdate:n,originaldate:n,tags:[a]},{slug:"2021-01-15-android_terminal",title:"Terminal on Android.",headline:"Using the Terminal on my Phone",image:".\u002Fimages\u002Ficons\u002Ftermux.jpg",sortdate:o,originaldate:o,tags:[a]},{slug:"2020-09-27-f1_2020_russian_gp",title:"F1 Recap - Russian Grand Prix 2020.",headline:"Hamilton Thwarted by Penalties Again",image:b,sortdate:p,originaldate:p,tags:[c]},{slug:"2020-09-13-f1_2020_tuscan_gp",title:"F1 Recap - Tuscan Grand Prix 2020.",headline:"2 Red Flags on Another Crazy Day in Italy",image:b,sortdate:q,originaldate:q,tags:[c]},{slug:"2020-09-06-f1_2020_italian_gp",title:"F1 Recap - Italian Grand Prix 2020.",headline:"Gasly gets his first race win",image:b,sortdate:r,originaldate:r,tags:[c]},{slug:"2020-09-03-super_mario_35th_anniversary_direct",title:"Super Mario Bros. 35th Anniversary Nintendo Direct.",headline:"All the announcements from the special Nintendo Direct",image:".\u002Fimages\u002Ficons\u002FSMB 35.png",sortdate:e,originaldate:e,tags:["Gaming"]},{slug:"2020-09-02-discord_bot",title:"Creating a Simple Discord Bot.",headline:"Its not self promotion if its done by a robot!",image:".\u002Fimages\u002Ficons\u002Fdiscord logo.png",sortdate:e,originaldate:"2020-09-02",tags:[a]},{slug:"2020-08-30-f1_2020_belgian_gp",title:"F1 Recap - Belgian Grand Prix 2020.",headline:"Daniel Ricciardo puts in a great performance to finish 4th",image:b,sortdate:s,originaldate:s,tags:[c]},{slug:"2020-08-16-f1_2020_spanish_gp",title:"F1 Recap - Spanish Grand Prix 2020.",headline:"Another dominant performance from Lewis Hamilton",image:b,sortdate:t,originaldate:t,tags:[c]},{slug:"2020-08-12-embedding_tweets",title:"Embedding Tweets In Svelte Blog Posts.",headline:"Reliably embed tweets in blog posts when using Svelte and Sapper",image:".\u002Fimages\u002Fabout\u002Ftwitter_logo.png",sortdate:u,originaldate:u,tags:[a,v,w]},{slug:"2020-08-09-f1_2020_70th_anniversary_gp",title:"F1 Recap - 70th Anniversary Grand Prix 2020.",headline:"Brilliant strategy leads to Red Bull win",image:b,sortdate:x,originaldate:x,tags:[c]},{slug:"2020-08-07-kanye_west_albums_ranked",title:"Ranking Every Kanye West Album.",headline:"My ranking of all of Kanye West's released albums",image:".\u002Fimages\u002Ficons\u002Fkanye bear.png",sortdate:y,originaldate:y,tags:["Music"]},{slug:"2020-08-03-f1_2020_silverstone",title:"F1 Recap - Silverstone 2020.",headline:"Hamilton hangs on to victory",image:b,sortdate:z,originaldate:z,tags:[c]},{slug:"2020-07-30-useful_tools",title:"Useful Tools.",headline:"Tools I find useful as a Software Dev",image:".\u002Fimages\u002Ficons\u002Ftools.png",sortdate:"2020-07-31",originaldate:"2020-07-30",tags:[a]},{slug:"2020-07-24-creating_the_blog",title:"Creating This Blog.",headline:"How to create a blog using Svelte",image:".\u002Fimages\u002Ficons\u002Fsvelte logo.png",sortdate:A,originaldate:A,tags:[a,v,w]},{slug:"2020-07-23-test_blog",title:"Test Blog.",headline:"Testing out the blog and some features",image:".\u002Flogo.png",sortdate:B,originaldate:B,tags:[]}]}}}("Software Development",".\u002Fimages\u002Ficons\u002Ff1 logo 2020.png","Formula 1","2021-05-12","2020-09-03","2021-05-08-http","HTTP.","Basics of Network Connections",".\u002Fimages\u002Ficons\u002Fhttp.png","2021-06-03","2021-05-10",".\u002Fimages\u002Ficons\u002Fsystem-design.jpg","2021-02-02","2021-01-19","2021-01-15","2020-09-27","2020-09-13","2020-09-06","2020-08-30","2020-08-16","2020-08-12","Svelte","HTML, CSS & JavaScript","2020-08-09","2020-08-07","2020-08-03","2020-07-24","2020-07-23"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.1a10fc34.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.1a10fc34.js")}document.head.appendChild(s)</script> <script src=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js data-cfasync=false></script> <script> window.cookieconsent.initialise({
			"palette": {
				"popup": {
				"background": "#eb6c44",
				"text": "#ffffff"
				},
				"button": {
				"background": "#f5d948"
				}
			},
			"theme": "classic",
			"position": "bottom-left",
			"content": {
				"href": "https://www.privacypolicygenerator.info/live.php?token=J9HWLD98f0nRTan45P6aO2LACPCFV2Fz"
			}
		}); </script> 